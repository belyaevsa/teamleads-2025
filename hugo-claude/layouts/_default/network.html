{{ define "main" }}
{{ $data := .Site.Data.metrics }}

<!-- Page Header -->
<section class="relative py-16 px-4">
  <div class="container mx-auto max-w-7xl">
    <div class="text-center mb-12">
      <h1 class="text-5xl md:text-6xl font-heading font-bold text-starlight mb-4">
        <span class="text-gradient-management">–ö—Ç–æ —Å –∫–µ–º —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞–µ—Ç</span>
      </h1>
      <p class="text-xl text-slate-400 max-w-3xl mx-auto">
        –ò –ø–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ
      </p>
    </div>

    <!-- Network Stats -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-16">
      <div class="bento-card p-6 text-center">
        <div class="text-4xl mb-3">üë•</div>
        <div class="font-data text-4xl font-bold text-telegram-blue mb-2">{{ $data.total_contributors }}</div>
        <div class="text-slate-400 text-sm">–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤</div>
      </div>
      <div class="bento-card p-6 text-center">
        <div class="text-4xl mb-3">üí¨</div>
        <div class="font-data text-4xl font-bold text-ai-purple-start mb-2">{{ $data.total_messages | lang.FormatNumber 0 }}</div>
        <div class="text-slate-400 text-sm">–°–æ–æ–±—â–µ–Ω–∏–π</div>
      </div>
      <div class="bento-card p-6 text-center">
        <div class="text-4xl mb-3">üî•</div>
        <div class="font-data text-4xl font-bold text-management-orange-start mb-2">{{ len $data.big_four }}</div>
        <div class="text-slate-400 text-sm">–ö–ª—é—á–µ–≤—ã—Ö –∏–≥—Ä–æ–∫–æ–≤</div>
      </div>
      <div class="bento-card p-6 text-center">
        <div class="text-4xl mb-3">üåê</div>
        <div class="font-data text-4xl font-bold text-green-400 mb-2">{{ $data.active_days }}</div>
        <div class="text-slate-400 text-sm">–î–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</div>
      </div>
    </div>
  </div>
</section>

<!-- Network Visualization -->
<section class="relative py-16 px-4 bg-gradient-to-b from-transparent to-deep-space/50">
  <div class="container mx-auto max-w-7xl">
    <h2 class="text-3xl md:text-4xl font-heading font-bold text-center mb-4 text-starlight">
      –ö–∞—Ä—Ç–∞ <span class="text-gradient-ai">–°–≤—è–∑–µ–π</span>
    </h2>
    <p class="text-center text-slate-400 mb-12 max-w-2xl mx-auto">
      –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
    </p>

    <div class="bento-card p-8">
      <div id="network-viz" class="relative" style="height: 600px; min-height: 500px;">
        <!-- SVG Network Visualization -->
        <svg id="network-svg" width="100%" height="100%" class="rounded-lg">
          <!-- Network will be rendered here via JavaScript -->
        </svg>

        <!-- Legend -->
        <div class="absolute top-4 right-4 bento-card p-4 text-sm">
          <h3 class="font-heading font-bold text-starlight mb-3">–õ–µ–≥–µ–Ω–¥–∞</h3>
          <div class="space-y-2">
            <div class="flex items-center gap-2">
              <div class="w-6 h-6 rounded-full bg-yellow-400"></div>
              <span class="text-slate-300">–ë–æ–ª—å—à–∞—è –ß–µ—Ç–≤—ë—Ä–∫–∞</span>
            </div>
            <div class="flex items-center gap-2">
              <div class="w-5 h-5 rounded-full bg-telegram-blue"></div>
              <span class="text-slate-300">–ê–∫—Ç–∏–≤–Ω—ã–µ (100+)</span>
            </div>
            <div class="flex items-center gap-2">
              <div class="w-4 h-4 rounded-full bg-ai-purple-start"></div>
              <span class="text-slate-300">–£—á–∞—Å—Ç–Ω–∏–∫–∏ (10-100)</span>
            </div>
            <div class="flex items-center gap-2">
              <div class="w-3 h-3 rounded-full bg-slate-500"></div>
              <span class="text-slate-300">–ù–∞–±–ª—é–¥–∞—Ç–µ–ª–∏ (<10)</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Network Insights -->
    <div class="grid md:grid-cols-3 gap-6 mt-12">
      <div class="bento-card p-6">
        <h3 class="font-heading font-bold text-lg text-starlight mb-3">üéØ –Ø–¥—Ä–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞</h3>
        <p class="text-slate-300 text-sm mb-3">
          <strong class="text-yellow-400">–ë–æ–ª—å—à–∞—è –ß–µ—Ç–≤—ë—Ä–∫–∞</strong> ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–µ —É–∑–ª—ã —Å–µ—Ç–∏. –û–Ω–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –∏ –≤–æ–≤–ª–µ–∫–∞—é—Ç –¥—Ä—É–≥–∏—Ö.
        </p>
        <p class="text-slate-400 text-sm">
          63% –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç 4 —á–µ–ª–æ–≤–µ–∫ ‚Äî –≤—ã—Å–æ–∫–∞—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è.
        </p>
      </div>
      <div class="bento-card p-6">
        <h3 class="font-heading font-bold text-lg text-starlight mb-3">üìà –†–æ—Å—Ç —Å–≤—è–∑–µ–π</h3>
        <p class="text-slate-300 text-sm mb-3">
          –° —è–Ω–≤–∞—Ä—è –ø–æ –¥–µ–∫–∞–±—Ä—å —Å–µ—Ç—å –≤—ã—Ä–æ—Å–ª–∞ –≤ 2+ —Ä–∞–∑–∞: —Å <strong class="text-telegram-blue">16</strong> –¥–æ <strong class="text-telegram-blue">34</strong> –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.
        </p>
        <p class="text-slate-400 text-sm">
          –ú–∞–π –ø—Ä–∏–Ω—ë—Å –Ω–∞–∏–±–æ–ª—å—à–∏–π –ø—Ä–∏—Ç–æ–∫ ‚Äî 47 –Ω–æ–≤—ã—Ö –ª—é–¥–µ–π.
        </p>
      </div>
      <div class="bento-card p-6">
        <h3 class="font-heading font-bold text-lg text-starlight mb-3">üåç –†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è —Å–µ—Ç—å</h3>
        <p class="text-slate-300 text-sm mb-3">
          –£—á–∞—Å—Ç–Ω–∏–∫–∏ –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω –∏ —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è ‚Äî –∫–ª—é—á –∫ —É—Å–ø–µ—Ö—É.
        </p>
        <p class="text-slate-400 text-sm">
          UTC+3 –¥–æ UTC+6 ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–æ–Ω—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Connection Patterns -->
<section class="relative py-16 px-4">
  <div class="container mx-auto max-w-7xl">
    <h2 class="text-3xl md:text-4xl font-heading font-bold text-center mb-12 text-starlight">
      –ü–∞—Ç—Ç–µ—Ä–Ω—ã <span class="text-gradient-management">–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π</span>
    </h2>

    <div class="grid md:grid-cols-2 gap-8">
      <div class="bento-card p-8 border-l-4 border-yellow-400">
        <div class="flex items-start gap-4 mb-4">
          <div class="text-5xl">üåü</div>
          <div class="flex-1">
            <h3 class="font-heading font-bold text-2xl text-starlight mb-2">–ó–≤—ë–∑–¥—ã —Å–æ–æ–±—â–µ—Å—Ç–≤–∞</h3>
            <p class="text-slate-400 text-sm mb-3">Star topology pattern</p>
          </div>
        </div>
        <p class="text-slate-300 mb-4">
          –ë–æ–ª—å—à–∞—è –ß–µ—Ç–≤—ë—Ä–∫–∞ –≤—ã—Å—Ç—É–ø–∞–µ—Ç –∫–∞–∫ "—Ö–∞–±—ã" ‚Äî –æ–Ω–∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –∏–Ω–∏—Ü–∏–∏—Ä—É—é—Ç –¥–∏—Å–∫—É—Å—Å–∏–∏, —Å–≤—è–∑—ã–≤–∞—é—Ç –ª—é–¥–µ–π.
        </p>
        <ul class="space-y-2 text-slate-300 text-sm">
          <li class="flex items-start gap-2">
            <span class="text-yellow-400">‚Ä¢</span>
            <span><strong>Andrii Kurdiumov:</strong> 6 266 —Å–æ–æ–±—â–µ–Ω–∏–π</span>
          </li>
          <li class="flex items-start gap-2">
            <span class="text-yellow-400">‚Ä¢</span>
            <span><strong>–ê—Ä—Ç—É—Ä –ü–∞–Ω:</strong> 4 388 —Å–æ–æ–±—â–µ–Ω–∏–π</span>
          </li>
          <li class="flex items-start gap-2">
            <span class="text-yellow-400">‚Ä¢</span>
            <span><strong>–¢–µ–π–º—É—Ä –®–∞–π–∫–µ–º–µ–ª–æ–≤:</strong> 3 105 —Å–æ–æ–±—â–µ–Ω–∏–π</span>
          </li>
          <li class="flex items-start gap-2">
            <span class="text-yellow-400">‚Ä¢</span>
            <span><strong>Stanislav Belyaev:</strong> 3 035 —Å–æ–æ–±—â–µ–Ω–∏–π</span>
          </li>
        </ul>
      </div>

      <div class="bento-card p-8 border-l-4 border-telegram-blue">
        <div class="flex items-start gap-4 mb-4">
          <div class="text-5xl">üîó</div>
          <div class="flex-1">
            <h3 class="font-heading font-bold text-2xl text-starlight mb-2">–ö–ª–∞—Å—Ç–µ—Ä—ã –ø–æ —Ç–µ–º–∞–º</h3>
            <p class="text-slate-400 text-sm mb-3">Topic-based communities</p>
          </div>
        </div>
        <p class="text-slate-300 mb-4">
          –£—á–∞—Å—Ç–Ω–∏–∫–∏ –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –≤–æ–∫—Ä—É–≥ —Ç–µ–º: AI-—ç–Ω—Ç—É–∑–∏–∞—Å—Ç—ã, QA-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã, HR-–ª–∏–¥—ã, –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä—ã.
        </p>
        <ul class="space-y-2 text-slate-300 text-sm">
          <li class="flex items-start gap-2">
            <span class="text-ai-purple-start">‚Ä¢</span>
            <span><strong>AI –∫–ª–∞—Å—Ç–µ—Ä:</strong> 976 —É–ø–æ–º–∏–Ω–∞–Ω–∏–π</span>
          </li>
          <li class="flex items-start gap-2">
            <span class="text-telegram-blue">‚Ä¢</span>
            <span><strong>QA –∫–ª–∞—Å—Ç–µ—Ä:</strong> 940 —É–ø–æ–º–∏–Ω–∞–Ω–∏–π</span>
          </li>
          <li class="flex items-start gap-2">
            <span class="text-management-orange-start">‚Ä¢</span>
            <span><strong>Management –∫–ª–∞—Å—Ç–µ—Ä:</strong> 499 —É–ø–æ–º–∏–Ω–∞–Ω–∏–π</span>
          </li>
          <li class="flex items-start gap-2">
            <span class="text-green-400">‚Ä¢</span>
            <span><strong>HR –∫–ª–∞—Å—Ç–µ—Ä:</strong> 482 —É–ø–æ–º–∏–Ω–∞–Ω–∏—è</span>
          </li>
        </ul>
      </div>

      <div class="bento-card p-8 border-l-4 border-green-400">
        <div class="flex items-start gap-4 mb-4">
          <div class="text-5xl">üìÖ</div>
          <div class="flex-1">
            <h3 class="font-heading font-bold text-2xl text-starlight mb-2">–í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</h3>
            <p class="text-slate-400 text-sm mb-3">Time-based activity</p>
          </div>
        </div>
        <p class="text-slate-300 mb-4">
          –ü–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ ‚Äî —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏ (–ü–Ω-–ü—Ç). –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –ª–∏–¥–∏—Ä—É–µ—Ç —Å 22% –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.
        </p>
        <div class="grid grid-cols-2 gap-3 text-sm">
          <div class="p-3 bg-deep-space/50 rounded-lg">
            <div class="font-data text-lg text-management-orange-start mb-1">22%</div>
            <div class="text-slate-400">–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫</div>
          </div>
          <div class="p-3 bg-deep-space/50 rounded-lg">
            <div class="font-data text-lg text-telegram-blue mb-1">11:00</div>
            <div class="text-slate-400">–ü–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</div>
          </div>
        </div>
      </div>

      <div class="bento-card p-8 border-l-4 border-ai-purple-start">
        <div class="flex items-start gap-4 mb-4">
          <div class="text-5xl">üéì</div>
          <div class="flex-1">
            <h3 class="font-heading font-bold text-2xl text-starlight mb-2">–ù–æ–≤–∏—á–∫–∏ ‚Üí –≠–∫—Å–ø–µ—Ä—Ç—ã</h3>
            <p class="text-slate-400 text-sm mb-3">Onboarding flow</p>
          </div>
        </div>
        <p class="text-slate-300 mb-4">
          –ó–¥–æ—Ä–æ–≤–∞—è –¥–∏–Ω–∞–º–∏–∫–∞: –Ω–æ–≤–∏—á–∫–∏ –∑–∞–¥–∞—é—Ç –≤–æ–ø—Ä–æ—Å—ã (19.1% –≤ —è–Ω–≤–∞—Ä–µ), —ç–∫—Å–ø–µ—Ä—Ç—ã –æ—Ç–≤–µ—á–∞—é—Ç, –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –≤—Å–µ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏.
        </p>
        <p class="text-slate-400 text-sm">
          –ö –¥–µ–∫–∞–±—Ä—é –ø—Ä–æ—Ü–µ–Ω—Ç –≤–æ–ø—Ä–æ—Å–æ–≤ —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–ª—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ 13.4% ‚Äî –ø—Ä–∏–∑–Ω–∞–∫ –∑—Ä–µ–ª–æ—Å—Ç–∏.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Community Health -->
<section class="relative py-16 px-4 bg-gradient-to-b from-deep-space/50 to-transparent">
  <div class="container mx-auto max-w-6xl">
    <h2 class="text-3xl md:text-4xl font-heading font-bold text-center mb-12 text-starlight">
      –ó–¥–æ—Ä–æ–≤—å–µ <span class="text-gradient-ai">–°–µ—Ç–∏</span>
    </h2>

    <div class="grid md:grid-cols-2 gap-8">
      <div class="bento-card p-8">
        <div class="text-5xl mb-4">üí™</div>
        <h3 class="font-heading font-bold text-xl text-starlight mb-3">–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã</h3>
        <ul class="space-y-3 text-slate-300">
          <li class="flex items-start gap-3">
            <span class="text-green-400 text-xl">‚úì</span>
            <div>
              <strong>–ê–∫—Ç–∏–≤–Ω–æ–µ —è–¥—Ä–æ:</strong> –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω–æ
            </div>
          </li>
          <li class="flex items-start gap-3">
            <span class="text-green-400 text-xl">‚úì</span>
            <div>
              <strong>–†–æ—Å—Ç —Å–µ—Ç–∏:</strong> +112% —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∑–∞ –≥–æ–¥, —É—Å—Ç–æ–π—á–∏–≤—ã–π —Ç—Ä–µ–Ω–¥
            </div>
          </li>
          <li class="flex items-start gap-3">
            <span class="text-green-400 text-xl">‚úì</span>
            <div>
              <strong>–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ:</strong> 8+ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –ø–æ —Ç–µ–º–∞–º, —à–∏—Ä–æ–∫–∏–π –æ—Ö–≤–∞—Ç
            </div>
          </li>
        </ul>
      </div>

      <div class="bento-card p-8">
        <div class="text-5xl mb-4">‚ö†Ô∏è</div>
        <h3 class="font-heading font-bold text-xl text-starlight mb-3">–†–∏—Å–∫–∏</h3>
        <ul class="space-y-3 text-slate-300">
          <li class="flex items-start gap-3">
            <span class="text-yellow-400 text-xl">!</span>
            <div>
              <strong>–í—ã—Å–æ–∫–∞—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è:</strong> 63% —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç 4 —á–µ–ª–æ–≤–µ–∫ ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
            </div>
          </li>
          <li class="flex items-start gap-3">
            <span class="text-yellow-400 text-xl">!</span>
            <div>
              <strong>Lurkers:</strong> 84 —É—á–∞—Å—Ç–Ω–∏–∫–∞ —Å <10 —Å–æ–æ–±—â–µ–Ω–∏–π ‚Äî –ø–∞—Å—Å–∏–≤–Ω—ã–µ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–∏
            </div>
          </li>
          <li class="flex items-start gap-3">
            <span class="text-yellow-400 text-xl">!</span>
            <div>
              <strong>–í—ã–≥–æ—Ä–∞–Ω–∏–µ –ª–∏–¥–µ—Ä–æ–≤:</strong> –ù—É–∂–Ω–æ —Ä–∞—Å—Ç–∏—Ç—å –Ω–æ–≤—ã—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
            </div>
          </li>
        </ul>
      </div>
    </div>

    <!-- Recommendations -->
    <div class="bento-card p-8 mt-8 border-2 border-telegram-blue/30">
      <h3 class="font-heading font-bold text-2xl text-starlight mb-6 text-center">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ä–æ—Å—Ç–∞</h3>
      <div class="grid md:grid-cols-3 gap-6">
        <div class="text-center">
          <div class="text-4xl mb-3">üå±</div>
          <h4 class="font-heading font-bold text-lg text-starlight mb-2">–í—ã—Ä–∞—â–∏–≤–∞–π—Ç–µ –Ω–æ–≤—ã—Ö –ª–∏–¥–µ—Ä–æ–≤</h4>
          <p class="text-slate-400 text-sm">–î–µ–ª–µ–≥–∏—Ä—É–π—Ç–µ –º–æ–¥–µ—Ä–∞—Ü–∏—é, –ø–æ–æ—â—Ä—è–π—Ç–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</p>
        </div>
        <div class="text-center">
          <div class="text-4xl mb-3">üéØ</div>
          <h4 class="font-heading font-bold text-lg text-starlight mb-2">–ê–∫—Ç–∏–≤–∏–∑–∏—Ä—É–π—Ç–µ lurkers</h4>
          <p class="text-slate-400 text-sm">–ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã, —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –æ–ø—Ä–æ—Å—ã, –ø—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥–µ–ª–∏—Ç—å—Å—è –æ–ø—ã—Ç–æ–º</p>
        </div>
        <div class="text-center">
          <div class="text-4xl mb-3">üîó</div>
          <h4 class="font-heading font-bold text-lg text-starlight mb-2">–£–∫—Ä–µ–ø–ª—è–π—Ç–µ —Å–≤—è–∑–∏</h4>
          <p class="text-slate-400 text-sm">–û—Ñ–ª–∞–π–Ω –≤—Å—Ç—Ä–µ—á–∏, –≤–æ—Ä–∫—à–æ–ø—ã, —Å–æ–≤–º–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Network Visualization Script -->
<script>
(function() {
  const svg = document.getElementById('network-svg');
  if (!svg) return;

  const width = svg.clientWidth;
  const height = svg.clientHeight || 600;

  // Network data: representing the community structure
  const nodes = [
    // Big Four (center nodes)
    { id: 'ak', name: 'Andrii K.', size: 30, group: 'bigfour', x: width/2 - 100, y: height/2 - 80, messages: 6266 },
    { id: 'ap', name: '–ê—Ä—Ç—É—Ä –ü.', size: 26, group: 'bigfour', x: width/2 + 100, y: height/2 - 80, messages: 4388 },
    { id: 'ts', name: '–¢–µ–π–º—É—Ä –®.', size: 24, group: 'bigfour', x: width/2 - 100, y: height/2 + 80, messages: 3105 },
    { id: 'sb', name: 'Stanislav B.', size: 24, group: 'bigfour', x: width/2 + 100, y: height/2 + 80, messages: 3035 },

    // Active contributors (medium nodes)
    { id: 'a1', name: 'Active 1', size: 18, group: 'active', x: width/2 - 200, y: height/2 - 150 },
    { id: 'a2', name: 'Active 2', size: 16, group: 'active', x: width/2 + 200, y: height/2 - 150 },
    { id: 'a3', name: 'Active 3', size: 17, group: 'active', x: width/2 - 250, y: height/2 },
    { id: 'a4', name: 'Active 4', size: 15, group: 'active', x: width/2 + 250, y: height/2 },
    { id: 'a5', name: 'Active 5', size: 16, group: 'active', x: width/2 - 200, y: height/2 + 150 },
    { id: 'a6', name: 'Active 6', size: 14, group: 'active', x: width/2 + 200, y: height/2 + 150 },

    // Regular participants (small nodes)
    { id: 'p1', name: 'Participant', size: 10, group: 'participant', x: width/2 - 300, y: height/2 - 100 },
    { id: 'p2', name: 'Participant', size: 10, group: 'participant', x: width/2 - 320, y: height/2 + 50 },
    { id: 'p3', name: 'Participant', size: 10, group: 'participant', x: width/2 + 300, y: height/2 - 100 },
    { id: 'p4', name: 'Participant', size: 10, group: 'participant', x: width/2 + 320, y: height/2 + 50 },
    { id: 'p5', name: 'Participant', size: 10, group: 'participant', x: width/2 - 150, y: height/2 - 220 },
    { id: 'p6', name: 'Participant', size: 10, group: 'participant', x: width/2 + 150, y: height/2 - 220 },
    { id: 'p7', name: 'Participant', size: 10, group: 'participant', x: width/2 - 150, y: height/2 + 220 },
    { id: 'p8', name: 'Participant', size: 10, group: 'participant', x: width/2 + 150, y: height/2 + 220 },

    // Observers (tiny nodes)
    { id: 'o1', name: 'Observer', size: 6, group: 'observer', x: width/2 - 350, y: height/2 - 180 },
    { id: 'o2', name: 'Observer', size: 6, group: 'observer', x: width/2 + 350, y: height/2 - 180 },
    { id: 'o3', name: 'Observer', size: 6, group: 'observer', x: width/2 - 350, y: height/2 + 180 },
    { id: 'o4', name: 'Observer', size: 6, group: 'observer', x: width/2 + 350, y: height/2 + 180 }
  ];

  // Links between nodes
  const links = [
    // Big Four interconnections
    { source: 'ak', target: 'ap' }, { source: 'ak', target: 'ts' }, { source: 'ak', target: 'sb' },
    { source: 'ap', target: 'ts' }, { source: 'ap', target: 'sb' }, { source: 'ts', target: 'sb' },

    // Active to Big Four
    { source: 'a1', target: 'ak' }, { source: 'a2', target: 'ap' }, { source: 'a3', target: 'ak' },
    { source: 'a4', target: 'ap' }, { source: 'a5', target: 'ts' }, { source: 'a6', target: 'sb' },

    // Participants to Active/Big Four
    { source: 'p1', target: 'a3' }, { source: 'p2', target: 'a3' }, { source: 'p3', target: 'a4' },
    { source: 'p4', target: 'a4' }, { source: 'p5', target: 'a1' }, { source: 'p6', target: 'a2' },
    { source: 'p7', target: 'a5' }, { source: 'p8', target: 'a6' },

    // Observers to core
    { source: 'o1', target: 'ak' }, { source: 'o2', target: 'ap' },
    { source: 'o3', target: 'ts' }, { source: 'o4', target: 'sb' }
  ];

  // Color mapping
  const colors = {
    bigfour: '#EAB308',    // Yellow
    active: '#2481CC',     // Telegram Blue
    participant: '#A855F7', // Purple
    observer: '#64748B'    // Gray
  };

  // Draw links
  links.forEach(link => {
    const source = nodes.find(n => n.id === link.source);
    const target = nodes.find(n => n.id === link.target);

    if (source && target) {
      const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
      line.setAttribute('x1', source.x);
      line.setAttribute('y1', source.y);
      line.setAttribute('x2', target.x);
      line.setAttribute('y2', target.y);
      line.setAttribute('stroke', 'rgba(148, 163, 184, 0.2)');
      line.setAttribute('stroke-width', '1');
      svg.appendChild(line);
    }
  });

  // Draw nodes
  nodes.forEach(node => {
    const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
    circle.setAttribute('cx', node.x);
    circle.setAttribute('cy', node.y);
    circle.setAttribute('r', node.size);
    circle.setAttribute('fill', colors[node.group]);
    circle.setAttribute('opacity', '0.9');
    circle.setAttribute('stroke', '#fff');
    circle.setAttribute('stroke-width', '2');
    circle.style.cursor = 'pointer';

    // Tooltip
    const title = document.createElementNS('http://www.w3.org/2000/svg', 'title');
    title.textContent = node.name + (node.messages ? ' (' + node.messages.toLocaleString('ru-RU') + ' —Å–æ–æ–±—â–µ–Ω–∏–π)' : '');
    circle.appendChild(title);

    // Hover effect
    circle.addEventListener('mouseenter', function() {
      this.setAttribute('opacity', '1');
      this.setAttribute('r', parseInt(this.getAttribute('r')) * 1.2);
    });
    circle.addEventListener('mouseleave', function() {
      this.setAttribute('opacity', '0.9');
      this.setAttribute('r', node.size);
    });

    svg.appendChild(circle);

    // Labels for Big Four
    if (node.group === 'bigfour') {
      const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
      text.setAttribute('x', node.x);
      text.setAttribute('y', node.y + node.size + 15);
      text.setAttribute('text-anchor', 'middle');
      text.setAttribute('fill', '#F8FAFC');
      text.setAttribute('font-size', '12');
      text.setAttribute('font-weight', 'bold');
      text.setAttribute('font-family', 'Inter');
      text.textContent = node.name;
      svg.appendChild(text);
    }
  });
})();
</script>

{{ end }}
