{{ define "main" }}
{{ $data := .Site.Data.metrics }}

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

<!-- Page Header -->
<section class="relative py-16 px-4">
  <div class="container mx-auto max-w-7xl">
    <div class="text-center mb-12">
      <h1 class="text-5xl md:text-6xl font-heading font-bold text-starlight mb-4">
        <span class="text-gradient-management">–ö—Ç–æ —ç—Ç–∏ –ª—é–¥–∏</span>
      </h1>
      <p class="text-xl text-slate-400 max-w-3xl mx-auto">
        –ò –ø–æ—á–µ–º—É –æ–Ω–∏ –Ω–µ —Å–ø—è—Ç –ø–æ –Ω–æ—á–∞–º
      </p>
    </div>

    <!-- Community Stats -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-16">
      <div class="bento-card p-8 text-center">
        <div class="text-4xl mb-4">üë•</div>
        <div class="font-data text-5xl font-bold text-starlight mb-2">{{ $data.community_stats.total_members }}</div>
        <div class="text-slate-400 text-lg">–í—Å–µ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</div>
      </div>
      <div class="bento-card p-8 text-center">
        <div class="text-4xl mb-4">‚úçÔ∏è</div>
        <div class="font-data text-5xl font-bold text-telegram-blue mb-2">{{ $data.total_contributors }}</div>
        <div class="text-slate-400 text-lg">–ê–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</div>
      </div>
      <div class="bento-card p-8 text-center">
        <div class="text-4xl mb-4">üî•</div>
        <div class="font-data text-5xl font-bold text-management-orange-start mb-2">{{ len $data.big_four }}</div>
        <div class="text-slate-400 text-lg">–ë–æ–ª—å—à–∞—è –ß–µ—Ç–≤—ë—Ä–∫–∞</div>
      </div>
      <div class="bento-card p-8 text-center">
        <div class="text-4xl mb-4">üí¨</div>
        <div class="font-data text-5xl font-bold text-ai-purple-start mb-2">{{ div $data.total_messages $data.total_contributors | lang.FormatNumber 0 }}</div>
        <div class="text-slate-400 text-lg">–°—Ä–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–π</div>
      </div>
    </div>
  </div>
</section>

<!-- Founders Section -->
<section class="relative py-16 px-4">
  <div class="container mx-auto max-w-7xl">
    <h2 class="text-3xl md:text-4xl font-heading font-bold text-center mb-4 text-starlight">
      üåü <span class="text-gradient-management">–û—Å–Ω–æ–≤–∞—Ç–µ–ª–∏</span>
    </h2>
    <p class="text-center text-slate-400 mb-12 max-w-3xl mx-auto">
      –ü–µ—Ä–≤—ã–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏, –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–≤—à–∏–µ—Å—è –∫ —á–∞—Ç—É <strong class="text-telegram-blue">20 —è–Ω–≤–∞—Ä—è 2025</strong>. –ò–º–µ–Ω–Ω–æ –æ–Ω–∏ –∑–∞–ª–æ–∂–∏–ª–∏ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –∫—É–ª—å—Ç—É—Ä—ã –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –æ–±—Å—É–∂–¥–µ–Ω–∏—è –∏ –≤–∑–∞–∏–º–æ–ø–æ–º–æ—â–∏.
    </p>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {{ range $data.founders }}
      <div class="bento-card p-6 hover:border-telegram-blue/50 transition-all">
        <div class="text-4xl mb-3">{{ .icon }}</div>
        <h3 class="font-heading font-bold text-xl text-starlight mb-1">{{ .name }}</h3>
        <p class="text-slate-400 text-sm mb-3">@{{ .username }}</p>
        <div class="text-management-orange-start font-semibold mb-2">{{ .role }}</div>
        {{ if .description }}
        <p class="text-slate-300 text-sm">{{ .description }}</p>
        {{ end }}
      </div>
      {{ end }}
    </div>
  </div>
</section>

<!-- Rising Stars Section -->
<section class="relative py-16 px-4 bg-gradient-to-b from-deep-space/50 to-transparent">
  <div class="container mx-auto max-w-7xl">
    <h2 class="text-3xl md:text-4xl font-heading font-bold text-center mb-4 text-starlight">
      ‚≠ê <span class="text-gradient-ai">–í–æ—Å—Ö–æ–¥—è—â–∏–µ –ó–≤–µ–∑–¥—ã</span>
    </h2>
    <p class="text-center text-slate-400 mb-12 max-w-3xl mx-auto">
      –ù–æ–≤—ã–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏, –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–≤—à–∏–µ—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ –≥–æ–¥–∞ –∏ —Å–¥–µ–ª–∞–≤—à–∏–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π –≤–∫–ª–∞–¥
    </p>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {{ range $data.rising_stars }}
      <div class="bento-card p-6 {{ if eq .rank 1 }}border-2 border-yellow-500/50{{ end }} hover:scale-105 transition-all">
        {{ if .award }}
        <div class="bg-gradient-to-r from-yellow-500 to-orange-500 text-deep-space font-bold text-sm px-3 py-1 rounded-full inline-block mb-3">
          üèÜ {{ .award }}
        </div>
        {{ end }}

        <h3 class="font-heading font-bold text-xl text-starlight mb-1">{{ .name }}</h3>
        <p class="text-slate-400 text-sm mb-4">@{{ .username }}</p>

        <div class="grid grid-cols-2 gap-4 mb-4">
          <div>
            <div class="font-data text-2xl font-bold text-ai-purple-start">{{ .messages | lang.FormatNumber 0 }}</div>
            <div class="text-slate-400 text-xs">—Å–æ–æ–±—â–µ–Ω–∏–π</div>
          </div>
          <div>
            <div class="font-data text-2xl font-bold text-management-orange-start">{{ .avg_per_day }}</div>
            <div class="text-slate-400 text-xs">–≤ –¥–µ–Ω—å</div>
          </div>
        </div>

        <div class="text-sm text-slate-300 mb-2">
          <strong class="text-telegram-blue">{{ .days }} –¥–Ω–µ–π</strong> –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–µ
        </div>

        <div class="text-xs text-slate-400">
          –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è: {{ .join_date }}
        </div>

        {{ if .description }}
        <p class="text-sm text-slate-300 mt-3 italic">{{ .description }}</p>
        {{ end }}
      </div>
      {{ end }}
    </div>

    <div class="mt-8 bento-card p-6 border-l-4 border-yellow-500">
      <p class="text-slate-300">
        <span class="text-2xl mr-2">üåü</span>
        <strong class="text-yellow-400">{{ (index $data.rising_stars 0).name }}</strong> –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –Ω–∞–≥—Ä–∞–¥—É <strong class="text-yellow-400">"Rising Star 2025"</strong> –∑–∞ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî <strong class="text-management-orange-start">150 —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –¥–µ–Ω—å!</strong> —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫ —Å–æ–æ–±—â–µ—Å—Ç–≤—É.
      </p>
    </div>
  </div>
</section>

<!-- Big Four Section -->
<section class="relative py-16 px-4 bg-gradient-to-b from-transparent to-deep-space/50">
  <div class="container mx-auto max-w-7xl">
    <h2 class="text-3xl md:text-4xl font-heading font-bold text-center mb-4 text-starlight">
      <span class="text-gradient-ai">–ë–æ–ª—å—à–∞—è –ß–µ—Ç–≤—ë—Ä–∫–∞</span>
    </h2>
    <p class="text-center text-slate-400 mb-12 max-w-2xl mx-auto">
      –õ–∏–¥–µ—Ä—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–¥–∞—é—Ç —Ç–æ–Ω –æ–±—Å—É–∂–¥–µ–Ω–∏—è–º
    </p>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      {{ range $data.big_four }}
      <div class="bento-card p-8 hover:border-{{ .color }}-400/50 transition-all group">
        <div class="flex items-start gap-6">
          <!-- Avatar -->
          <div class="flex-shrink-0">
            <div class="text-5xl mb-3">{{ .medal }}</div>
            <div class="w-24 h-24 rounded-2xl bg-gradient-to-br from-{{ .color }}-400 to-{{ .color }}-600 flex items-center justify-center text-3xl font-bold text-deep-space shadow-lg group-hover:scale-110 transition-transform">
              {{ .initials }}
            </div>
          </div>

          <!-- Info -->
          <div class="flex-1">
            <h3 class="font-heading font-bold text-2xl text-starlight mb-1">{{ .name }}</h3>
            <p class="text-slate-400 mb-4">@{{ .username }}</p>

            <!-- Stats Grid -->
            <div class="grid grid-cols-2 gap-4 mb-4">
              <div>
                <div class="font-data text-3xl font-bold text-{{ .color }}-400 mb-1">{{ .messages | lang.FormatNumber 0 }}</div>
                <div class="text-slate-400 text-sm">—Å–æ–æ–±—â–µ–Ω–∏–π</div>
              </div>
              <div>
                <div class="font-data text-3xl font-bold text-{{ .color }}-400 mb-1">{{ .active_days }}</div>
                <div class="text-slate-400 text-sm">–∞–∫—Ç–∏–≤–Ω—ã—Ö –¥–Ω–µ–π</div>
              </div>
            </div>

            <!-- Consistency Bar -->
            <div class="mb-3">
              <div class="flex justify-between text-xs text-slate-400 mb-1">
                <span>–ü–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–æ</span>
                <span>{{ div (mul .active_days 100) $data.active_days | lang.FormatNumber 0 }}%</span>
              </div>
              <div class="h-2 bg-deep-space rounded-full overflow-hidden">
                <div class="h-full bg-gradient-to-r from-{{ .color }}-400 to-{{ .color }}-600" style="width: {{ div (mul .active_days 100) $data.active_days | lang.FormatNumber 0 }}%"></div>
              </div>
            </div>

            <!-- Average per day -->
            <div class="text-sm text-slate-400">
              <strong class="text-starlight">{{ div .messages .active_days | lang.FormatNumber 0 }}</strong> —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –¥–µ–Ω—å
            </div>
          </div>
        </div>
      </div>
      {{ end }}
    </div>

    <!-- Big Four Insights -->
    <div class="mt-12 grid md:grid-cols-2 gap-6">
      <div class="bento-card p-6 border-l-4 border-yellow-500">
        <h3 class="font-heading font-bold text-lg text-starlight mb-3">ü•á –õ–∏–¥–µ—Ä –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</h3>
        <p class="text-slate-300">
          <strong class="text-yellow-400">Andrii Kurdiumov</strong> ‚Äî –∞–±—Å–æ–ª—é—Ç–Ω—ã–π —Ä–µ–∫–æ—Ä–¥—Å–º–µ–Ω —Å 6 266 —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.
          –ê–∫—Ç–∏–≤–µ–Ω {{ index $data.big_four 0 "active_days" }} –¥–Ω–µ–π –∏–∑ {{ $data.active_days }} –≤–æ–∑–º–æ–∂–Ω—ã—Ö.
        </p>
      </div>
      <div class="bento-card p-6 border-l-4 border-blue-500">
        <h3 class="font-heading font-bold text-lg text-starlight mb-3">‚≠ê –°–∞–º—ã–π –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π</h3>
        <p class="text-slate-300">
          <strong class="text-blue-400">Stanislav Belyaev</strong> ‚Äî —á–µ–º–ø–∏–æ–Ω –ø–æ –ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤—É.
          –ê–∫—Ç–∏–≤–µ–Ω {{ index $data.big_four 3 "active_days" }} –¥–Ω–µ–π ({{ div (mul (index $data.big_four 3 "active_days") 100) $data.active_days | lang.FormatNumber 0 }}% –≤—Å–µ—Ö –¥–Ω–µ–π).
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Top-15 Leaderboard -->
<section class="relative py-16 px-4 bg-gradient-to-b from-transparent to-deep-space/50">
  <div class="container mx-auto max-w-6xl">
    <h2 class="text-3xl md:text-4xl font-heading font-bold text-center mb-4 text-starlight">
      üèÜ <span class="text-gradient-ai">–¢–æ–ø-15 –£—á–∞—Å—Ç–Ω–∏–∫–æ–≤</span>
    </h2>
    <p class="text-center text-slate-400 mb-12 max-w-3xl mx-auto">
      –ü–æ–ª–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ —Å–∞–º—ã—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å–æ–æ–±—â–µ–Ω–∏–π
    </p>

    <div class="bento-card overflow-x-auto">
      <table class="w-full">
        <thead>
          <tr class="border-b border-slate-700">
            <th class="text-left p-4 font-heading text-slate-400 text-sm">#</th>
            <th class="text-left p-4 font-heading text-slate-400 text-sm">–£—á–∞—Å—Ç–Ω–∏–∫</th>
            <th class="text-center p-4 font-heading text-slate-400 text-sm">–°–æ–æ–±—â–µ–Ω–∏–π</th>
            <th class="text-center p-4 font-heading text-slate-400 text-sm">–ê–∫—Ç–∏–≤–Ω—ã—Ö –¥–Ω–µ–π</th>
            <th class="text-center p-4 font-heading text-slate-400 text-sm">–°—Ä–µ–¥–Ω–µ–µ/–¥–µ–Ω—å</th>
            <th class="text-center p-4 font-heading text-slate-400 text-sm">–†–µ–π—Ç–∏–Ω–≥</th>
          </tr>
        </thead>
        <tbody>
          {{ range $data.top_15_contributors }}
          <tr class="border-b border-slate-800/50 hover:bg-white/5 transition-colors">
            <td class="p-4">
              <div class="font-data text-xl font-bold
                {{ if eq .tier "gold" }}text-yellow-400
                {{ else if eq .tier "silver" }}text-gray-400
                {{ else if eq .tier "bronze" }}text-orange-400
                {{ else if eq .tier "star" }}text-blue-400
                {{ else if eq .tier "fire" }}text-management-orange-start
                {{ else }}text-purple-400{{ end }}">
                {{ .rank }}
              </div>
            </td>
            <td class="p-4">
              <div class="font-heading font-bold text-starlight">{{ .name }}</div>
            </td>
            <td class="p-4 text-center">
              <div class="font-data text-lg font-bold
                {{ if eq .tier "gold" }}text-yellow-400
                {{ else if eq .tier "silver" }}text-gray-400
                {{ else if eq .tier "bronze" }}text-orange-400
                {{ else if eq .tier "star" }}text-blue-400
                {{ else if eq .tier "fire" }}text-management-orange-start
                {{ else }}text-ai-purple-start{{ end }}">
                {{ .messages | lang.FormatNumber 0 }}
              </div>
            </td>
            <td class="p-4 text-center">
              <div class="font-data text-slate-300">{{ .active_days }}</div>
            </td>
            <td class="p-4 text-center">
              <div class="font-data text-slate-300">{{ div .messages .active_days | lang.FormatNumber 0 }}</div>
            </td>
            <td class="p-4 text-center">
              <div class="text-2xl">{{ .medal }}</div>
            </td>
          </tr>
          {{ end }}
        </tbody>
      </table>
    </div>

    <!-- Tier Legend -->
    <div class="mt-8 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
      <div class="bento-card p-4 text-center">
        <div class="text-3xl mb-2">ü•á</div>
        <div class="text-yellow-400 font-bold text-sm">–ó–æ–ª–æ—Ç–æ</div>
        <div class="text-slate-400 text-xs">#1</div>
      </div>
      <div class="bento-card p-4 text-center">
        <div class="text-3xl mb-2">ü•à</div>
        <div class="text-gray-400 font-bold text-sm">–°–µ—Ä–µ–±—Ä–æ</div>
        <div class="text-slate-400 text-xs">#2</div>
      </div>
      <div class="bento-card p-4 text-center">
        <div class="text-3xl mb-2">ü•â</div>
        <div class="text-orange-400 font-bold text-sm">–ë—Ä–æ–Ω–∑–∞</div>
        <div class="text-slate-400 text-xs">#3</div>
      </div>
      <div class="bento-card p-4 text-center">
        <div class="text-3xl mb-2">‚≠ê</div>
        <div class="text-blue-400 font-bold text-sm">–ó–≤–µ–∑–¥–∞</div>
        <div class="text-slate-400 text-xs">#4</div>
      </div>
      <div class="bento-card p-4 text-center">
        <div class="text-3xl mb-2">üî•</div>
        <div class="text-management-orange-start font-bold text-sm">–û–≥–æ–Ω—å</div>
        <div class="text-slate-400 text-xs">#5-10</div>
      </div>
      <div class="bento-card p-4 text-center">
        <div class="text-3xl mb-2">‚ö°</div>
        <div class="text-purple-400 font-bold text-sm">–ú–æ–ª–Ω–∏—è</div>
        <div class="text-slate-400 text-xs">#11-15</div>
      </div>
    </div>
  </div>
</section>

<!-- Contributors Distribution -->
<section class="relative py-16 px-4">
  <div class="container mx-auto max-w-7xl">
    <h2 class="text-3xl md:text-4xl font-heading font-bold text-center mb-4 text-starlight">
      –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ <span class="text-gradient-ai">–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤</span>
    </h2>
    <p class="text-center text-slate-400 mb-12 max-w-2xl mx-auto">
      –î–∏–Ω–∞–º–∏–∫–∞ —Ä–æ—Å—Ç–∞ —á–∏—Å–ª–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ –º–µ—Å—è—Ü–∞–º
    </p>

    <div class="relative mb-12">
      <canvas id="contributors-chart" style="max-height: 400px;"></canvas>
    </div>

    <!-- Activity Tiers -->
    <div class="grid md:grid-cols-3 gap-6">
      <div class="bento-card p-6">
        <div class="text-3xl mb-3">üî•</div>
        <h3 class="font-heading font-bold text-lg text-starlight mb-2">–ê–∫—Ç–∏–≤–Ω—ã–µ (100+ —Å–æ–æ–±—â–µ–Ω–∏–π)</h3>
        <div class="font-data text-3xl text-management-orange-start mb-2">~15</div>
        <p class="text-slate-400 text-sm">–Ø–¥—Ä–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞, —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏</p>
      </div>
      <div class="bento-card p-6">
        <div class="text-3xl mb-3">üí¨</div>
        <h3 class="font-heading font-bold text-lg text-starlight mb-2">–£—á–∞—Å—Ç–Ω–∏–∫–∏ (10-100 —Å–æ–æ–±—â–µ–Ω–∏–π)</h3>
        <div class="font-data text-3xl text-telegram-blue mb-2">~40</div>
        <p class="text-slate-400 text-sm">–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ —á–ª–µ–Ω—ã</p>
      </div>
      <div class="bento-card p-6">
        <div class="text-3xl mb-3">üëÄ</div>
        <h3 class="font-heading font-bold text-lg text-starlight mb-2">–ù–∞–±–ª—é–¥–∞—Ç–µ–ª–∏ (< 10 —Å–æ–æ–±—â–µ–Ω–∏–π)</h3>
        <div class="font-data text-3xl text-slate-400 mb-2">~84</div>
        <p class="text-slate-400 text-sm">–ß–∏—Ç–∞—é—Ç, —Ä–µ–¥–∫–æ –ø–∏—à—É—Ç</p>
      </div>
    </div>
  </div>
</section>

<!-- Community Insights -->
<section class="relative py-16 px-4 bg-gradient-to-b from-deep-space/50 to-transparent">
  <div class="container mx-auto max-w-6xl">
    <h2 class="text-3xl md:text-4xl font-heading font-bold text-center mb-12 text-starlight">
      –ò–Ω—Å–∞–π—Ç—ã –æ <span class="text-gradient-management">–°–æ–æ–±—â–µ—Å—Ç–≤–µ</span>
    </h2>

    <div class="grid md:grid-cols-2 gap-8">
      <div class="bento-card p-8">
        <div class="text-5xl mb-4">üìà</div>
        <h3 class="font-heading font-bold text-xl text-starlight mb-3">–†–æ—Å—Ç —Å–æ–æ–±—â–µ—Å—Ç–≤–∞</h3>
        <p class="text-slate-300 mb-4">
          –°–æ–æ–±—â–µ—Å—Ç–≤–æ –≤—ã—Ä–æ—Å–ª–æ —Å <strong class="text-telegram-blue">16 —á–µ–ª–æ–≤–µ–∫</strong> –≤ —è–Ω–≤–∞—Ä–µ –¥–æ <strong class="text-telegram-blue">{{ index $data.monthly_data.contributors 11 }}</strong> –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤ –¥–µ–∫–∞–±—Ä–µ.
        </p>
        <div class="text-sm text-slate-400">
          –ü–∏–∫ –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ª—é–¥–µ–π –ø—Ä–∏—à—ë–ª—Å—è –Ω–∞ <strong class="text-starlight">–º–∞–π 2025</strong> ‚Äî –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª–∏—Å—å 47 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤.
        </div>
      </div>

      <div class="bento-card p-8">
        <div class="text-5xl mb-4">üí™</div>
        <h3 class="font-heading font-bold text-xl text-starlight mb-3">–í–∫–ª–∞–¥ –≤ –æ–±—â–µ–µ –¥–µ–ª–æ</h3>
        <p class="text-slate-300 mb-4">
          –ë–æ–ª—å—à–∞—è –ß–µ—Ç–≤—ë—Ä–∫–∞ —Å–æ–∑–¥–∞–ª–∞ <strong class="text-management-orange-start">{{ add (index $data.big_four 0 "messages") (index $data.big_four 1 "messages") (index $data.big_four 2 "messages") (index $data.big_four 3 "messages") | lang.FormatNumber 0 }}</strong> —Å–æ–æ–±—â–µ–Ω–∏–π ‚Äî —ç—Ç–æ <strong class="text-management-orange-start">{{ div (mul (add (index $data.big_four 0 "messages") (index $data.big_four 1 "messages") (index $data.big_four 2 "messages") (index $data.big_four 3 "messages")) 100) $data.total_messages | lang.FormatNumber 0 }}%</strong> –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π.
        </p>
        <div class="text-sm text-slate-400">
          –û—Å—Ç–∞–ª—å–Ω—ã–µ {{ sub $data.total_contributors (len $data.big_four) }} —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞–ø–∏—Å–∞–ª–∏ {{ sub $data.total_messages (add (index $data.big_four 0 "messages") (index $data.big_four 1 "messages") (index $data.big_four 2 "messages") (index $data.big_four 3 "messages")) | lang.FormatNumber 0 }} —Å–æ–æ–±—â–µ–Ω–∏–π.
        </div>
      </div>

      <div class="bento-card p-8">
        <div class="text-5xl mb-4">üåç</div>
        <h3 class="font-heading font-bold text-xl text-starlight mb-3">–ì–µ–æ–≥—Ä–∞—Ñ–∏—è</h3>
        <p class="text-slate-300 mb-4">
          –û—Å–Ω–æ–≤–Ω–æ–π —Å–æ—Å—Ç–∞–≤ ‚Äî —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–µ IT-–ª–∏–¥–µ—Ä—ã –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω: –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω, –†–æ—Å—Å–∏—è, –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω—ã –°–ù–ì –∏ –¥–∞–ª—å–Ω–µ–≥–æ –∑–∞—Ä—É–±–µ–∂—å—è.
        </p>
        <div class="text-sm text-slate-400">
          –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–æ–Ω—ã: –æ—Ç UTC+3 –¥–æ UTC+6
        </div>
      </div>

      <div class="bento-card p-8">
        <div class="text-5xl mb-4">üéØ</div>
        <h3 class="font-heading font-bold text-xl text-starlight mb-3">–ü—Ä–æ—Ñ–∏–ª—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</h3>
        <p class="text-slate-300 mb-4">
          –¢–∏–º–ª–∏–¥—ã, —Ç–µ—Ö–ª–∏–¥—ã, engineering managers —Å –æ–ø—ã—Ç–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥–∞–º–∏ –æ—Ç 5 –¥–æ 50+ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.
        </p>
        <div class="text-sm text-slate-400">
          –ö–æ–º–ø–∞–Ω–∏–∏: —Å—Ç–∞—Ä—Ç–∞–ø—ã, –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–µ, –∞—É—Ç—Å–æ—Ä—Å, –∫–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Contributors Chart Script -->
<script>
(function() {
  const ctx = document.getElementById('contributors-chart');
  if (!ctx) return;

  const labels = {{ $data.monthly_data.labels }};
  const contributors = {{ $data.monthly_data.contributors }};

  if (!Array.isArray(labels) || !Array.isArray(contributors)) {
    console.error('Invalid contributors data');
    return;
  }

  // Create gradient
  const gradient = ctx.getContext('2d').createLinearGradient(0, 0, 0, 400);
  gradient.addColorStop(0, 'rgba(249, 115, 22, 0.5)');
  gradient.addColorStop(1, 'rgba(249, 115, 22, 0.0)');

  const config = {
    type: 'line',
    data: {
      labels: labels,
      datasets: [{
        label: '–ê–∫—Ç–∏–≤–Ω—ã–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏',
        data: contributors,
        fill: true,
        backgroundColor: gradient,
        borderColor: '#F97316',
        borderWidth: 3,
        tension: 0.4,
        pointRadius: 6,
        pointBackgroundColor: '#F97316',
        pointBorderColor: 'rgba(255, 255, 255, 0.8)',
        pointBorderWidth: 2,
        pointHoverRadius: 8
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: true,
      plugins: {
        legend: { display: false },
        tooltip: {
          enabled: true,
          backgroundColor: 'rgba(15, 23, 42, 0.95)',
          titleColor: '#F8FAFC',
          bodyColor: '#94A3B8',
          borderColor: 'rgba(255, 255, 255, 0.1)',
          borderWidth: 1,
          padding: 12,
          displayColors: false,
          titleFont: { family: 'Inter', size: 14, weight: 'bold' },
          bodyFont: { family: 'JetBrains Mono', size: 12 },
          callbacks: {
            title: function(context) {
              return context[0].label + ' 2025';
            },
            label: function(context) {
              return context.parsed.y + ' –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤';
            }
          }
        }
      },
      scales: {
        x: {
          grid: { display: false },
          ticks: {
            color: '#94A3B8',
            font: { family: 'Inter', size: 12, weight: 'bold' }
          }
        },
        y: {
          beginAtZero: true,
          grid: {
            color: 'rgba(148, 163, 184, 0.1)',
            drawBorder: false
          },
          ticks: {
            color: '#64748B',
            font: { family: 'JetBrains Mono', size: 11 },
            stepSize: 10
          }
        }
      },
      animation: {
        duration: 2000,
        easing: 'easeInOutQuart'
      }
    }
  };

  new Chart(ctx, config);
})();
</script>

{{ end }}
