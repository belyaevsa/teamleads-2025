{{ define "main" }}
{{ $data := .Site.Data.metrics }}

<script src="/lib/js/chart.umd.min.js"></script>

<!-- Hero Section with Background Image -->
<section class="relative min-h-[60vh] flex items-center justify-center overflow-x-clip overflow-y-visible">
  <!-- Hero Background Image -->
  <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
    {{ partial "hero-bg.html" (dict "src" "images/sentiment/hero.png") }}
  </div>

  <!-- Content -->
  <div class="relative z-10 text-center px-4 max-w-5xl mx-auto pt-24 pb-8">
    <div class="flex items-center justify-center gap-3 mb-6">
      <span class="text-6xl md:text-7xl">üòå</span>
    </div>

    <!-- Title with bubble container -->
    <div class="relative inline-block" x-data="{ showBubble: true }">
      <h1 class="text-4xl md:text-6xl lg:text-7xl font-heading font-bold mb-6 tracking-tight">
        <span class="text-telegram-blue">–ú—ã –Ω–µ —Ç–æ–∫—Å–∏—á–Ω—ã. –ú—ã —Ä–µ–∞–ª–∏—Å—Ç—ã</span>
      </h1>

      <!-- Jumping Bubble (right side) -->
      <a href="https://t.me/teamleads_kz"
         target="_blank"
         rel="noopener noreferrer"
         class="quote-bubble">
        <span class="quote-bubble-text">–•–æ—á–µ—à—å —É–∑–Ω–∞—Ç—å –∫—Ç–æ —ç—Ç–æ —Å–∫–∞–∑–∞–ª?<br><strong>–ò—â–∏ –≤ —á–∞—Ç–µ ‚Üí</strong></span>
        <span class="quote-bubble-arrow"></span>
      </a>
    </div>

    <p class="text-lg md:text-xl text-slate-400 max-w-3xl mx-auto leading-relaxed">
      70% –Ω–µ–π—Ç—Ä–∞–ª–∞, 10% –±–æ–ª–∏, 100% –ø—Ä–∞–≤–¥—ã
    </p>
  </div>
</section>

<style>
/* Jumping Bubble - positioned to the right */
.quote-bubble {
  position: absolute;
  top: 50%;
  right: -170px;
  transform: translateY(-50%);
  background: linear-gradient(135deg, rgba(36, 129, 204, 0.8), rgba(168, 85, 247, 0.8));
  color: white;
  padding: 16px 20px;
  border-radius: 20px;
  font-size: 16px;
  font-weight: 500;
  line-height: 1.5;
  white-space: nowrap;
  box-shadow: 0 8px 32px rgba(36, 129, 204, 0.3);
  animation: bubble-bounce-right 2s ease-in-out infinite;
  z-index: 100;
  text-decoration: none;
  display: block;
  backdrop-filter: blur(8px);
}

.quote-bubble:hover {
  transform: translateY(-50%) scale(1.05);
  box-shadow: 0 12px 40px rgba(36, 129, 204, 0.5);
  background: linear-gradient(135deg, rgba(36, 129, 204, 1), rgba(168, 85, 247, 1));
}

.quote-bubble-text {
  display: block;
  text-align: center;
}

.quote-bubble-arrow {
  position: absolute;
  left: -10px;
  top: 50%;
  transform: translateY(-50%);
  width: 0;
  height: 0;
  border-top: 12px solid transparent;
  border-bottom: 12px solid transparent;
  border-right: 12px solid rgba(36, 129, 204, 0.8);
}

@keyframes bubble-bounce-right {
  0%, 100% {
    transform: translateY(-50%) translateX(0);
  }
  25% {
    transform: translateY(-50%) translateX(8px);
  }
  50% {
    transform: translateY(-50%) translateX(0);
  }
  75% {
    transform: translateY(-50%) translateX(4px);
  }
}

/* Tablet and mobile adjustments */
@media (max-width: 1200px) {
  .quote-bubble {
    top: auto;
    bottom: -80px;
    right: 50%;
    transform: translateX(50%);
    font-size: 14px;
    padding: 14px 18px;
    animation: bubble-bounce-bottom 2s ease-in-out infinite;
  }

  .quote-bubble:hover {
    transform: translateX(50%) scale(1.05);
  }

  .quote-bubble-arrow {
    left: 50%;
    top: -10px;
    transform: translateX(-50%);
    border-left: 12px solid transparent;
    border-right: 12px solid transparent;
    border-bottom: 12px solid #2481CC;
    border-top: none;
  }

  @keyframes bubble-bounce-bottom {
    0%, 100% {
      transform: translateX(50%) translateY(0);
    }
    25% {
      transform: translateX(50%) translateY(8px);
    }
    50% {
      transform: translateX(50%) translateY(0);
    }
    75% {
      transform: translateX(50%) translateY(4px);
    }
  }
}

@media (max-width: 640px) {
  .quote-bubble {
    font-size: 13px;
    padding: 12px 16px;
    white-space: normal;
    max-width: 220px;
  }
}
</style>

<!-- Overall Sentiment -->
<section class="relative py-16 px-4 overflow-hidden">
  <div class="container mx-auto max-w-7xl">

    <!-- Overall Sentiment Grid -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-16">
      <div class="bento-card p-4 md:p-6 text-center hover:border-gray-400/50 transition-all min-w-0">
        {{ partial "img.html" (dict "src" "images/sentiment/neutral.png" "alt" "Neutral" "class" "w-12 h-12 md:w-16 md:h-16 mx-auto mb-2 md:mb-3 rounded-full") }}
        <div class="font-data text-2xl md:text-4xl font-bold text-gray-400 mb-1 md:mb-2">{{ $data.sentiment.neutral | lang.FormatNumber 1 }}%</div>
        <div class="text-slate-400 text-xs md:text-sm">–ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ</div>
      </div>
      <div class="bento-card p-4 md:p-6 text-center hover:border-blue-400/50 transition-all min-w-0">
        {{ partial "img.html" (dict "src" "images/sentiment/question.png" "alt" "Questions" "class" "w-12 h-12 md:w-16 md:h-16 mx-auto mb-2 md:mb-3 rounded-full") }}
        <div class="font-data text-2xl md:text-4xl font-bold text-blue-400 mb-1 md:mb-2">{{ $data.sentiment.questions | lang.FormatNumber 1 }}%</div>
        <div class="text-slate-400 text-xs md:text-sm">–í–æ–ø—Ä–æ—Å—ã</div>
      </div>
      <div class="bento-card p-4 md:p-6 text-center hover:border-red-400/50 transition-all min-w-0">
        {{ partial "img.html" (dict "src" "images/sentiment/negative.png" "alt" "Negative" "class" "w-12 h-12 md:w-16 md:h-16 mx-auto mb-2 md:mb-3 rounded-full") }}
        <div class="font-data text-2xl md:text-4xl font-bold text-red-400 mb-1 md:mb-2">{{ $data.sentiment.negative | lang.FormatNumber 1 }}%</div>
        <div class="text-slate-400 text-xs md:text-sm">–ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ</div>
      </div>
      <div class="bento-card p-4 md:p-6 text-center hover:border-green-400/50 transition-all min-w-0">
        {{ partial "img.html" (dict "src" "images/sentiment/positive.png" "alt" "Positive" "class" "w-12 h-12 md:w-16 md:h-16 mx-auto mb-2 md:mb-3 rounded-full") }}
        <div class="font-data text-2xl md:text-4xl font-bold text-green-400 mb-1 md:mb-2">{{ $data.sentiment.positive | lang.FormatNumber 1 }}%</div>
        <div class="text-slate-400 text-xs md:text-sm">–ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ</div>
      </div>
    </div>
  </div>
</section>

<!-- Sentiment Timeline -->
<section class="relative py-16 px-4 bg-gradient-to-b from-transparent to-deep-space/50 overflow-hidden">
  <div class="container mx-auto max-w-7xl overflow-hidden">
    <h2 class="text-3xl md:text-4xl font-heading font-bold text-center mb-4 text-starlight">
      –î–∏–Ω–∞–º–∏–∫–∞ <span class="text-gradient-management">–ø–æ –ú–µ—Å—è—Ü–∞–º</span>
    </h2>
    <p class="text-center text-slate-400 mb-12 max-w-2xl mx-auto">
      –ö–∞–∫ –º–µ–Ω—è–ª–∞—Å—å —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –æ–±—Å—É–∂–¥–µ–Ω–∏–π –≤ —Ç–µ—á–µ–Ω–∏–µ –≥–æ–¥–∞
    </p>

    <div class="relative mb-12">
      <canvas id="sentiment-timeline-chart" style="max-height: 450px;"></canvas>
    </div>

    <!-- Key Moments -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6">
      <div class="bento-card p-4 md:p-6 border-l-4 border-green-400">
        <h3 class="font-heading font-bold text-lg text-starlight mb-3">üòä –ü–∏–∫ –ø–æ–∑–∏—Ç–∏–≤–∞</h3>
        <p class="text-slate-300 mb-2">
          <strong class="text-green-400">–ê–ø—Ä–µ–ª—å 2025:</strong> 11.3% –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
        </p>
        <p class="text-slate-400 text-sm">
          –†–æ—Å—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –Ω–æ–≤—ã–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏, —É—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤
        </p>
      </div>
      <div class="bento-card p-4 md:p-6 border-l-4 border-blue-400">
        <h3 class="font-heading font-bold text-lg text-starlight mb-3">‚ùì –ë–æ–ª—å—à–µ –≤—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤</h3>
        <p class="text-slate-300 mb-2">
          <strong class="text-blue-400">–Ø–Ω–≤–∞—Ä—å 2025:</strong> 19% –≤–æ–ø—Ä–æ—Å–æ–≤
        </p>
        <p class="text-slate-400 text-sm">
          –ù–∞—á–∞–ª–æ –≥–æ–¥–∞, –Ω–æ–≤—ã–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –∏ —É—á–∞—Ç—Å—è
        </p>
      </div>
      <div class="bento-card p-4 md:p-6 border-l-4 border-gray-400">
        <h3 class="font-heading font-bold text-lg text-starlight mb-3">üòå –°—Ç–∞–±–∏–ª—å–Ω—ã–π —Ç–æ–Ω</h3>
        <p class="text-slate-300 mb-2">
          <strong class="text-gray-400">–ê–≤–≥—É—Å—Ç 2025:</strong> 73.8% –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã—Ö
        </p>
        <p class="text-slate-400 text-sm">
          –õ–µ—Ç–Ω–∏–π –ø–µ—Ä–∏–æ–¥, –º–µ–Ω—å—à–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –±–æ–ª—å—à–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –æ–±—Å—É–∂–¥–µ–Ω–∏–π
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Sentiment by Topic -->
<section class="relative py-16 px-4 overflow-hidden">
  <div class="container mx-auto max-w-7xl overflow-hidden">
    <h2 class="text-3xl md:text-4xl font-heading font-bold text-center mb-4 text-starlight">
      –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ <span class="text-gradient-ai">–¢–µ–º–∞–º</span>
    </h2>
    <p class="text-center text-slate-400 mb-12 max-w-2xl mx-auto">
      –†–∞–∑–Ω—ã–µ —Ç–µ–º—ã –≤—ã–∑—ã–≤–∞—é—Ç —Ä–∞–∑–Ω—ã–µ —ç–º–æ—Ü–∏–∏
    </p>

    <div class="relative mb-12">
      <canvas id="sentiment-by-topic-chart" style="max-height: 400px;"></canvas>
    </div>

    <!-- Topic Sentiment Analysis -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8">
      <div class="bento-card p-4 md:p-8 border-l-4 border-ai-purple-start">
        <div class="flex items-start gap-3 md:gap-4 mb-4">
          <div class="text-3xl md:text-5xl">ü§ñ</div>
          <div class="flex-1 min-w-0">
            <h3 class="font-heading font-bold text-xl md:text-2xl text-starlight mb-2">AI & ML</h3>
            <div class="flex flex-wrap gap-3 md:gap-4 mb-3">
              <div>
                <div class="font-data text-2xl text-green-400">{{ $data.sentiment_by_topic.ai_ml.positive | lang.FormatNumber 1 }}%</div>
                <div class="text-slate-400 text-xs">–ü–æ–∑–∏—Ç–∏–≤</div>
              </div>
              <div>
                <div class="font-data text-2xl text-blue-400">{{ $data.sentiment_by_topic.ai_ml.questions | lang.FormatNumber 1 }}%</div>
                <div class="text-slate-400 text-xs">–í–æ–ø—Ä–æ—Å—ã</div>
              </div>
              <div>
                <div class="font-data text-2xl text-red-400">{{ $data.sentiment_by_topic.ai_ml.negative | lang.FormatNumber 1 }}%</div>
                <div class="text-slate-400 text-xs">–ù–µ–≥–∞—Ç–∏–≤</div>
              </div>
            </div>
          </div>
        </div>
        <p class="text-slate-300 text-sm">
          <strong class="text-starlight">–°–∞–º–∞—è –ø–æ–∑–∏—Ç–∏–≤–Ω–∞—è —Ç–µ–º–∞!</strong> AI –≤—ã–∑—ã–≤–∞–µ—Ç —ç–Ω—Ç—É–∑–∏–∞–∑–º (12.5% –ø–æ–∑–∏—Ç–∏–≤–∞) –∏ –ª—é–±–æ–ø—ã—Ç—Å—Ç–≤–æ (14.2% –≤–æ–ø—Ä–æ—Å–æ–≤). –ú–∏–Ω–∏–º—É–º –Ω–µ–≥–∞—Ç–∏–≤–∞ ‚Äì —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç.
        </p>
      </div>

      <div class="bento-card p-4 md:p-8 border-l-4 border-telegram-blue">
        <div class="flex items-start gap-3 md:gap-4 mb-4">
          <div class="text-3xl md:text-5xl">üß™</div>
          <div class="flex-1 min-w-0">
            <h3 class="font-heading font-bold text-xl md:text-2xl text-starlight mb-2">QA & Testing</h3>
            <div class="flex flex-wrap gap-3 md:gap-4 mb-3">
              <div>
                <div class="font-data text-2xl text-green-400">{{ $data.sentiment_by_topic.qa_testing.positive | lang.FormatNumber 1 }}%</div>
                <div class="text-slate-400 text-xs">–ü–æ–∑–∏—Ç–∏–≤</div>
              </div>
              <div>
                <div class="font-data text-2xl text-blue-400">{{ $data.sentiment_by_topic.qa_testing.questions | lang.FormatNumber 1 }}%</div>
                <div class="text-slate-400 text-xs">–í–æ–ø—Ä–æ—Å—ã</div>
              </div>
              <div>
                <div class="font-data text-2xl text-red-400">{{ $data.sentiment_by_topic.qa_testing.negative | lang.FormatNumber 1 }}%</div>
                <div class="text-slate-400 text-xs">–ù–µ–≥–∞—Ç–∏–≤</div>
              </div>
            </div>
          </div>
        </div>
        <p class="text-slate-300 text-sm">
          <strong class="text-starlight">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Ñ–æ–∫—É—Å.</strong> –í—ã—Å–æ–∫–∏–π % –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã—Ö (72.1%) –∏ –≤–æ–ø—Ä–æ—Å–æ–≤ (15.3%). –û–±—Å—É–∂–¥–µ–Ω–∏—è –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–µ: –∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å, –∫–∞–∫ –≤–Ω–µ–¥—Ä–∏—Ç—å.
        </p>
      </div>

      <div class="bento-card p-4 md:p-8 border-l-4 border-management-orange-start">
        <div class="flex items-start gap-3 md:gap-4 mb-4">
          <div class="text-3xl md:text-5xl">üìä</div>
          <div class="flex-1 min-w-0">
            <h3 class="font-heading font-bold text-xl md:text-2xl text-starlight mb-2">Management</h3>
            <div class="flex flex-wrap gap-3 md:gap-4 mb-3">
              <div>
                <div class="font-data text-2xl text-green-400">{{ $data.sentiment_by_topic.management.positive | lang.FormatNumber 1 }}%</div>
                <div class="text-slate-400 text-xs">–ü–æ–∑–∏—Ç–∏–≤</div>
              </div>
              <div>
                <div class="font-data text-2xl text-blue-400">{{ $data.sentiment_by_topic.management.questions | lang.FormatNumber 1 }}%</div>
                <div class="text-slate-400 text-xs">–í–æ–ø—Ä–æ—Å—ã</div>
              </div>
              <div>
                <div class="font-data text-2xl text-red-400">{{ $data.sentiment_by_topic.management.negative | lang.FormatNumber 1 }}%</div>
                <div class="text-slate-400 text-xs">–ù–µ–≥–∞—Ç–∏–≤</div>
              </div>
            </div>
          </div>
        </div>
        <p class="text-slate-300 text-sm">
          <strong class="text-starlight">–°–ª–æ–∂–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã.</strong> –ë–æ–ª—å—à–µ –Ω–µ–≥–∞—Ç–∏–≤–∞ (16.6%) ‚Äì —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª—é–¥—å–º–∏, –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã, —É–≤–æ–ª—å–Ω–µ–Ω–∏—è. –†–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ–∞–ª—å–Ω—ã—Ö –ª–∏–¥–æ–≤.
        </p>
      </div>

      <div class="bento-card p-4 md:p-8 border-l-4 border-green-400">
        <div class="flex items-start gap-3 md:gap-4 mb-4">
          <div class="text-3xl md:text-5xl">üë•</div>
          <div class="flex-1 min-w-0">
            <h3 class="font-heading font-bold text-xl md:text-2xl text-starlight mb-2">HR</h3>
            <div class="flex flex-wrap gap-3 md:gap-4 mb-3">
              <div>
                <div class="font-data text-2xl text-green-400">{{ $data.sentiment_by_topic.hr.positive | lang.FormatNumber 1 }}%</div>
                <div class="text-slate-400 text-xs">–ü–æ–∑–∏—Ç–∏–≤</div>
              </div>
              <div>
                <div class="font-data text-2xl text-blue-400">{{ $data.sentiment_by_topic.hr.questions | lang.FormatNumber 1 }}%</div>
                <div class="text-slate-400 text-xs">–í–æ–ø—Ä–æ—Å—ã</div>
              </div>
              <div>
                <div class="font-data text-2xl text-red-400">{{ $data.sentiment_by_topic.hr.negative | lang.FormatNumber 1 }}%</div>
                <div class="text-slate-400 text-xs">–ù–µ–≥–∞—Ç–∏–≤</div>
              </div>
            </div>
          </div>
        </div>
        <p class="text-slate-300 text-sm">
          <strong class="text-starlight">–°–∞–º–∞—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ç–µ–º–∞.</strong> –ú–∞–∫—Å–∏–º—É–º –Ω–µ–≥–∞—Ç–∏–≤–∞ (22.5%) ‚Äì –Ω–∞–π–º, —É–≤–æ–ª—å–Ω–µ–Ω–∏—è, –≤—ã–≥–æ—Ä–∞–Ω–∏–µ. –†–∞–±–æ—Ç–∞ —Å –ª—é–¥—å–º–∏ ‚Äì –≤—Å–µ–≥–¥–∞ challenge.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Key Insights -->
<section class="relative py-16 px-4 bg-gradient-to-b from-deep-space/50 to-transparent overflow-hidden">
  <div class="container mx-auto max-w-6xl">
    <h2 class="text-3xl md:text-4xl font-heading font-bold text-center mb-12 text-starlight">
      –ö–ª—é—á–µ–≤—ã–µ <span class="text-gradient-management">–ò–Ω—Å–∞–π—Ç—ã</span>
    </h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8">
      <div class="bento-card p-4 md:p-8">
        <div class="text-5xl mb-4">üéØ</div>
        <h3 class="font-heading font-bold text-xl text-starlight mb-3">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ</h3>
        <p class="text-slate-300 mb-4">
          <strong class="text-telegram-blue">70% –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã—Ö</strong> —Å–æ–æ–±—â–µ–Ω–∏–π ‚Äì –ø—Ä–∏–∑–Ω–∞–∫ –∑—Ä–µ–ª–æ–≥–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞. –§–æ–∫—É—Å –Ω–∞ —Ñ–∞–∫—Ç–∞—Ö, –æ–ø—ã—Ç–µ, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏—è—Ö.
        </p>
        <p class="text-slate-400 text-sm">
          –≠—Ç–æ –Ω–µ —á–∞—Ç —ç–º–æ—Ü–∏–π, –∞ –ø–ª–æ—â–∞–¥–∫–∞ –¥–ª—è –æ–±–º–µ–Ω–∞ —ç–∫—Å–ø–µ—Ä—Ç–∏–∑–æ–π.
        </p>
      </div>

      <div class="bento-card p-4 md:p-8">
        <div class="text-5xl mb-4">üìö</div>
        <h3 class="font-heading font-bold text-xl text-starlight mb-3">–ö—É–ª—å—Ç—É—Ä–∞ –≤–æ–ø—Ä–æ—Å–æ–≤</h3>
        <p class="text-slate-300 mb-4">
          <strong class="text-blue-400">12% –≤–æ–ø—Ä–æ—Å–æ–≤</strong> ‚Äì –∑–¥–æ—Ä–æ–≤—ã–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å. –õ—é–¥–∏ –Ω–µ –±–æ—è—Ç—Å—è —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å, —Å–æ–æ–±—â–µ—Å—Ç–≤–æ –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞—Å—Ç–∏.
        </p>
        <p class="text-slate-400 text-sm">
          –í—ã—Å–æ–∫–∏–π % –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ —è–Ω–≤–∞—Ä–µ (19%) ‚Äì –Ω–æ–≤–∏—á–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è.
        </p>
      </div>

      <div class="bento-card p-4 md:p-8">
        <div class="text-5xl mb-4">‚ö†Ô∏è</div>
        <h3 class="font-heading font-bold text-xl text-starlight mb-3">–ù–µ–≥–∞—Ç–∏–≤ ‚Äì —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ</h3>
        <p class="text-slate-300 mb-4">
          <strong class="text-red-400">10% –Ω–µ–≥–∞—Ç–∏–≤–∞</strong> ‚Äì –∞–¥–µ–∫–≤–∞—Ç–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å. –¢–∏–º–ª–∏–¥—ã –æ–±—Å—É–∂–¥–∞—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã: –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã, —É–≤–æ–ª—å–Ω–µ–Ω–∏—è, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–æ–ª–≥–∏.
        </p>
        <p class="text-slate-400 text-sm">
          HR-—Ç–µ–º—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –±–æ–ª—å—à–µ –Ω–µ–≥–∞—Ç–∏–≤–∞ (22.5%) ‚Äì —Ä–∞–±–æ—Ç–∞ —Å –ª—é–¥—å–º–∏ —Å–ª–æ–∂–Ω–∞.
        </p>
      </div>

      <div class="bento-card p-4 md:p-8">
        <div class="text-5xl mb-4">‚ú®</div>
        <h3 class="font-heading font-bold text-xl text-starlight mb-3">AI –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç</h3>
        <p class="text-slate-300 mb-4">
          AI & ML ‚Äì —Å–∞–º–∞—è –ø–æ–∑–∏—Ç–∏–≤–Ω–∞—è —Ç–µ–º–∞ (<strong class="text-green-400">12.5%</strong>). –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç —ç–Ω—Ç—É–∑–∏–∞–∑–º, –ª—é–±–æ–ø—ã—Ç—Å—Ç–≤–æ, –∂–µ–ª–∞–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å.
        </p>
        <p class="text-slate-400 text-sm">
          2025 ‚Äì –≥–æ–¥, –∫–æ–≥–¥–∞ AI —Å—Ç–∞–ª —á–∞—Å—Ç—å—é –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Ç–∏–º–ª–∏–¥–æ–≤.
        </p>
      </div>

      <div class="bento-card p-4 md:p-8">
        <div class="text-5xl mb-4">üìà</div>
        <h3 class="font-heading font-bold text-xl text-starlight mb-3">–¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–∞</h3>
        <p class="text-slate-300 mb-4">
          –í —Ç–µ—á–µ–Ω–∏–µ –≥–æ–¥–∞ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫–æ–ª–µ–±–∞–ª–∞—Å—å –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ. –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π —Ç–æ–Ω –¥–æ–º–∏–Ω–∏—Ä—É–µ—Ç –≤—Å–µ–≥–¥–∞ (67-74%).
        </p>
        <p class="text-slate-400 text-sm">
          –≠—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –æ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –∑—Ä–µ–ª–æ—Å—Ç–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞.
        </p>
      </div>

      <div class="bento-card p-4 md:p-8">
        <div class="text-5xl mb-4">üé≠</div>
        <h3 class="font-heading font-bold text-xl text-starlight mb-3">–†–∞–∑–Ω—ã–µ —Ç–µ–º—ã = —Ä–∞–∑–Ω—ã–µ —ç–º–æ—Ü–∏–∏</h3>
        <p class="text-slate-300 mb-4">
          QA (72% –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã—Ö) vs HR (59% –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã—Ö). –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ–º—ã –±–æ–ª–µ–µ "—Ö–æ–ª–æ–¥–Ω—ã–µ", —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–µ ‚Äì –±–æ–ª–µ–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ.
        </p>
        <p class="text-slate-400 text-sm">
          –≠—Ç–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ: –∫–æ–¥ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º, –ª—é–¥–∏ ‚Äì –Ω–µ—Ç.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Sentiment Timeline Chart Script -->
<script>
(function() {
  const ctx = document.getElementById('sentiment-timeline-chart');
  if (!ctx) return;

  const labels = {{ $data.sentiment_monthly.labels }};
  const neutral = {{ $data.sentiment_monthly.neutral }};
  const questions = {{ $data.sentiment_monthly.questions }};
  const negative = {{ $data.sentiment_monthly.negative }};
  const positive = {{ $data.sentiment_monthly.positive }};

  if (!Array.isArray(labels) || !Array.isArray(neutral)) {
    console.error('Invalid sentiment timeline data');
    return;
  }

  const config = {
    type: 'line',
    data: {
      labels: labels,
      datasets: [
        {
          label: '–ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ',
          data: neutral,
          borderColor: '#9E9E9E',
          backgroundColor: 'rgba(158, 158, 158, 0.1)',
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 4,
          pointBackgroundColor: '#9E9E9E',
          fill: false
        },
        {
          label: '–í–æ–ø—Ä–æ—Å—ã',
          data: questions,
          borderColor: '#3B82F6',
          backgroundColor: 'rgba(59, 130, 246, 0.1)',
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 4,
          pointBackgroundColor: '#3B82F6',
          fill: false
        },
        {
          label: '–ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ',
          data: negative,
          borderColor: '#EF4444',
          backgroundColor: 'rgba(239, 68, 68, 0.1)',
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 4,
          pointBackgroundColor: '#EF4444',
          fill: false
        },
        {
          label: '–ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ',
          data: positive,
          borderColor: '#10B981',
          backgroundColor: 'rgba(16, 185, 129, 0.1)',
          borderWidth: 3,
          tension: 0.4,
          pointRadius: 4,
          pointBackgroundColor: '#10B981',
          fill: false
        }
      ]
    },
    options: {
      responsive: true,
      maintainAspectRatio: true,
      interaction: {
        mode: 'index',
        intersect: false
      },
      plugins: {
        legend: {
          display: true,
          position: 'top',
          labels: {
            color: '#94A3B8',
            font: { family: 'Inter', size: 13 },
            padding: 15,
            usePointStyle: true
          }
        },
        tooltip: {
          enabled: true,
          backgroundColor: 'rgba(15, 23, 42, 0.95)',
          titleColor: '#F8FAFC',
          bodyColor: '#94A3B8',
          borderColor: 'rgba(255, 255, 255, 0.1)',
          borderWidth: 1,
          padding: 12,
          titleFont: { family: 'Inter', size: 14, weight: 'bold' },
          bodyFont: { family: 'JetBrains Mono', size: 12 },
          callbacks: {
            label: function(context) {
              return context.dataset.label + ': ' + context.parsed.y.toFixed(1) + '%';
            }
          }
        }
      },
      scales: {
        x: {
          grid: { display: false },
          ticks: {
            color: '#94A3B8',
            font: { family: 'Inter', size: 12, weight: 'bold' }
          }
        },
        y: {
          beginAtZero: true,
          max: 80,
          grid: {
            color: 'rgba(148, 163, 184, 0.1)',
            drawBorder: false
          },
          ticks: {
            color: '#64748B',
            font: { family: 'JetBrains Mono', size: 11 },
            callback: function(value) {
              return value + '%';
            }
          }
        }
      },
      animation: {
        duration: 2000,
        easing: 'easeInOutQuart'
      }
    }
  };

  new Chart(ctx, config);
})();
</script>

<!-- Sentiment by Topic Chart Script -->
<script>
(function() {
  const ctx = document.getElementById('sentiment-by-topic-chart');
  if (!ctx) return;

  const sentimentByTopic = {{ $data.sentiment_by_topic }};

  if (!sentimentByTopic || typeof sentimentByTopic !== 'object') {
    console.error('Invalid sentiment by topic data');
    return;
  }

  const config = {
    type: 'bar',
    data: {
      labels: ['AI & ML', 'QA & Testing', 'Management', 'HR'],
      datasets: [
        {
          label: '–ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ',
          data: [
            sentimentByTopic.ai_ml.positive,
            sentimentByTopic.qa_testing.positive,
            sentimentByTopic.management.positive,
            sentimentByTopic.hr.positive
          ],
          backgroundColor: 'rgba(16, 185, 129, 0.7)',
          borderColor: '#10B981',
          borderWidth: 2
        },
        {
          label: '–ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ',
          data: [
            sentimentByTopic.ai_ml.neutral,
            sentimentByTopic.qa_testing.neutral,
            sentimentByTopic.management.neutral,
            sentimentByTopic.hr.neutral
          ],
          backgroundColor: 'rgba(158, 158, 158, 0.7)',
          borderColor: '#9E9E9E',
          borderWidth: 2
        },
        {
          label: '–í–æ–ø—Ä–æ—Å—ã',
          data: [
            sentimentByTopic.ai_ml.questions,
            sentimentByTopic.qa_testing.questions,
            sentimentByTopic.management.questions,
            sentimentByTopic.hr.questions
          ],
          backgroundColor: 'rgba(59, 130, 246, 0.7)',
          borderColor: '#3B82F6',
          borderWidth: 2
        },
        {
          label: '–ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ',
          data: [
            sentimentByTopic.ai_ml.negative,
            sentimentByTopic.qa_testing.negative,
            sentimentByTopic.management.negative,
            sentimentByTopic.hr.negative
          ],
          backgroundColor: 'rgba(239, 68, 68, 0.7)',
          borderColor: '#EF4444',
          borderWidth: 2
        }
      ]
    },
    options: {
      responsive: true,
      maintainAspectRatio: true,
      plugins: {
        legend: {
          display: true,
          position: 'top',
          labels: {
            color: '#94A3B8',
            font: { family: 'Inter', size: 13 },
            padding: 15,
            usePointStyle: true
          }
        },
        tooltip: {
          enabled: true,
          backgroundColor: 'rgba(15, 23, 42, 0.95)',
          titleColor: '#F8FAFC',
          bodyColor: '#94A3B8',
          borderColor: 'rgba(255, 255, 255, 0.1)',
          borderWidth: 1,
          padding: 12,
          titleFont: { family: 'Inter', size: 14, weight: 'bold' },
          bodyFont: { family: 'JetBrains Mono', size: 12 },
          callbacks: {
            label: function(context) {
              return context.dataset.label + ': ' + context.parsed.y.toFixed(1) + '%';
            }
          }
        }
      },
      scales: {
        x: {
          stacked: true,
          grid: { display: false },
          ticks: {
            color: '#94A3B8',
            font: { family: 'Inter', size: 12, weight: 'bold' }
          }
        },
        y: {
          stacked: true,
          beginAtZero: true,
          max: 100,
          grid: {
            color: 'rgba(148, 163, 184, 0.1)',
            drawBorder: false
          },
          ticks: {
            color: '#64748B',
            font: { family: 'JetBrains Mono', size: 11 },
            callback: function(value) {
              return value + '%';
            }
          }
        }
      },
      animation: {
        duration: 1500,
        easing: 'easeInOutQuart',
        delay: function(context) {
          return context.dataIndex * 100;
        }
      }
    }
  };

  new Chart(ctx, config);
})();
</script>

{{ end }}
