# –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –ê–Ω–∞–ª–∏–∑–∞: –ö–∞–∫ –°–æ–∑–¥–∞–≤–∞–ª—Å—è –û—Ç—á–µ—Ç "–ì–æ–¥ –≤ –û–±–∑–æ—Ä–µ 2025"

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö](#–∏—Å—Ç–æ—á–Ω–∏–∫-–¥–∞–Ω–Ω—ã—Ö)
3. [–≠—Ç–∞–ø—ã –∞–Ω–∞–ª–∏–∑–∞](#—ç—Ç–∞–ø—ã-–∞–Ω–∞–ª–∏–∑–∞)
4. [–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Å–∫—Ä–∏–ø—Ç—ã](#–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã-–∏-—Å–∫—Ä–∏–ø—Ç—ã)
5. [–ê–ª–≥–æ—Ä–∏—Ç–º—ã –∏ –º–µ—Ç–æ–¥—ã](#–∞–ª–≥–æ—Ä–∏—Ç–º—ã-–∏-–º–µ—Ç–æ–¥—ã)
6. [–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –¥–æ–ø—É—â–µ–Ω–∏—è](#–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è-–∏-–¥–æ–ø—É—â–µ–Ω–∏—è)
7. [–í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å](#–≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å)

---

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç **–ø–æ–ª–Ω—É—é –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—é —Å–æ–∑–¥–∞–Ω–∏—è –≥–æ–¥–æ–≤–æ–≥–æ –æ—Ç—á–µ—Ç–∞** –¥–ª—è —á–∞—Ç–∞ "–¢–∏–º–ª–∏–¥ –Ω–µ –∫–æ–¥–∏—Ç". –û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–≤–∞–ª—Å—è —á–µ—Ä–µ–∑ –º–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω—ã–π –∞–Ω–∞–ª–∏–∑ 23,426 —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –º–µ—Ç–æ–¥–æ–≤ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –æ–±—Ä–∞–±–æ—Ç–∫–∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ –∏ —Å–µ—Ç–µ–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.

**–¶–µ–ª—å**: –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π, data-driven –æ—Ç—á–µ—Ç –æ –∂–∏–∑–Ω–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –∏–Ω—Å–∞–π—Ç–∞–º–∏.

**–ü—Ä–∏–Ω—Ü–∏–ø—ã**:
- ‚úÖ –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å ‚Äî –≤—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –≤–∫–ª—é—á–µ–Ω—ã
- ‚úÖ –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å ‚Äî –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –ü—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å ‚Äî —Ä–µ–∞–ª—å–Ω—ã–µ –∏–Ω—Å–∞–π—Ç—ã, –Ω–µ —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã

---

## –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–ò—Å—Ç–æ—á–Ω–∏–∫**: PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `chats`

**–õ–æ–∫–∞—Ü–∏—è**: Azure PostgreSQL Server
**–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:**

#### 1. `chats` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —á–∞—Ç–∞—Ö
```sql
- chat_tgid (bigint) - Telegram ID —á–∞—Ç–∞
- chat_title (text) - –ù–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞
- created_at (timestamp) - –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
```

#### 2. `messages` - –°–æ–æ–±—â–µ–Ω–∏—è
```sql
- messageid (text) - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (chat_tgid_message_tgid)
- chat_tgid (bigint) - ID —á–∞—Ç–∞
- user_tgid (bigint) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- user_name (text) - –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- user_login (text) - Username (@login)
- user_message (text) - –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- created_at (timestamp) - –î–∞—Ç–∞/–≤—Ä–µ–º—è —Å–æ–æ–±—â–µ–Ω–∏—è
- reply_to_messageid (text) - ID —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ –æ—Ç–≤–µ—á–∞–µ—Ç
- is_bot (boolean) - –ë–æ—Ç –∏–ª–∏ —á–µ–ª–æ–≤–µ–∫
```

#### 3. `events` - –°–æ–±—ã—Ç–∏—è —á–∞—Ç–∞
```sql
- eventid (text) - ID —Å–æ–±—ã—Ç–∏—è
- chat_tgid (bigint) - ID —á–∞—Ç–∞
- event_type (text) - –¢–∏–ø —Å–æ–±—ã—Ç–∏—è (join, leave, etc.)
- user_tgid (bigint) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- created_at (timestamp) - –î–∞—Ç–∞ —Å–æ–±—ã—Ç–∏—è
```

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–°–∫—Ä–∏–ø—Ç**: –í—ã–ø–æ–ª–Ω—è–ª–∏—Å—å SQL-–∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ `psql` –∫–ª–∏–µ–Ω—Ç

**–¶–µ–ª–µ–≤–æ–π —á–∞—Ç**:
- ID: `-1002424547330`
- –ù–∞–∑–≤–∞–Ω–∏–µ: "–¢–∏–º–ª–∏–¥ –Ω–µ –∫–æ–¥–∏—Ç"
- –ü–µ—Ä–∏–æ–¥: 2025-01-01 –¥–æ 2025-12-26

**–û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Å–ø–æ—Ä—Ç**:
```sql
COPY (
  SELECT
    messageid,
    created_at,
    TO_CHAR(created_at, 'YYYY-MM') as month,
    user_name,
    user_message,
    reply_to_messageid,
    LENGTH(user_message) as msg_length
  FROM messages
  WHERE chat_tgid = '-1002424547330'
    AND created_at >= '2025-01-01'
    AND is_bot = false
  ORDER BY created_at
) TO STDOUT WITH CSV HEADER
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: `messages_export.csv` (23,426 —Å—Ç—Ä–æ–∫)

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**:
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –¢–æ–ø-—Ç—Ä–µ–¥—ã –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –æ—Ç–≤–µ—Ç–æ–≤
- –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è
- –ò –¥—Ä—É–≥–∏–µ –º–µ—Ç—Ä–∏–∫–∏

---

## –≠—Ç–∞–ø—ã –∞–Ω–∞–ª–∏–∑–∞

### –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–¶–µ–ª—å**: –°–æ–±—Ä–∞—Ç—å –æ–±—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞

**–ú–µ—Ç—Ä–∏–∫–∏**:
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –ê–∫—Ç–∏–≤–Ω—ã–µ –¥–Ω–∏
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –º–µ—Å—è—Ü–∞–º
- –¢–æ–ø-—É—á–∞—Å—Ç–Ω–∏–∫–∏

**–ú–µ—Ç–æ–¥**: –ü—Ä—è–º—ã–µ SQL-–∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**: PostgreSQL, SQL

---

### –≠—Ç–∞–ø 2: –ü—Ä–æ—Å—Ç–æ–π –∞–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

**–¶–µ–ª—å**: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –æ–±—â–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞

**–°–∫—Ä–∏–ø—Ç**: [`analyze_simple.py`](analyze_simple.py)

**–ê–ª–≥–æ—Ä–∏—Ç–º**:

```python
# 1. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
messages = load_csv('messages_export.csv')

# 2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
POSITIVE = ['—Å–ø–∞—Å–∏–±–æ', '–±–ª–∞–≥–æ–¥–∞—Ä', '–∫—Ä—É—Ç–æ', '–æ—Ç–ª–∏—á–Ω–æ', ...]
NEGATIVE = ['–ø—Ä–æ–±–ª–µ–º', '–æ—à–∏–±–∫', '–±–∞–≥', '–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç', ...]
QUESTIONS = ['–∫–∞–∫', '—á—Ç–æ', '–≥–¥–µ', '–ø–æ—á–µ–º—É', '?', ...]

def analyze_sentiment(text):
    # –ü–æ–¥—Å—á–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
    pos_count = count_keywords(text, POSITIVE)
    neg_count = count_keywords(text, NEGATIVE)
    is_question = any_keyword(text, QUESTIONS)

    if is_question:
        return 'question'
    elif pos_count > neg_count:
        return 'positive'
    elif neg_count > pos_count:
        return 'negative'
    else:
        return 'neutral'

# 3. –ê–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
for msg in messages:
    msg['sentiment'] = analyze_sentiment(msg['text'])

# 4. –ê–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ –º–µ—Å—è—Ü–∞–º
sentiment_by_month = aggregate_by_month(messages, 'sentiment')
```

**–ü—Ä–æ–±–ª–µ–º–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞**: –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–ª–∞ 49.9% —Å–æ–æ–±—â–µ–Ω–∏–π –∫–∞–∫ –≤–æ–ø—Ä–æ—Å—ã (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)

**–ü—Ä–∏—á–∏–Ω–∞**: Keyword matching –Ω–∞—Ö–æ–¥–∏–ª —Å–ª–æ–≤–∞ "—á—Ç–æ", "–∫–∞–∫" –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

**–ü—Ä–∏–º–µ—Ä –ª–æ–∂–Ω–æ–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ**:
- "–Ø –¥—É–º–∞—é, —á—Ç–æ —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ" ‚Üí –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª–æ—Å—å –∫–∞–∫ –≤–æ–ø—Ä–æ—Å –∏–∑-–∑–∞ "—á—Ç–æ"

---

### –≠—Ç–∞–ø 3: –£–ª—É—á—à–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

**–°–∫—Ä–∏–ø—Ç**: [`analyze_better.py`](analyze_better.py)

**–£–ª—É—á—à–µ–Ω–∏—è**:

```python
def is_question(text):
    """–ë–æ–ª–µ–µ —Ç–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤"""

    # –ú–µ—Ç–æ–¥ 1: –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ '?'
    if text.strip().endswith('?'):
        return True

    # –ú–µ—Ç–æ–¥ 2: –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –≤–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å–ª–æ–≤–∞
    text_lower = text.lower().strip()
    question_starts = [
        '–∫–∞–∫ ', '—á—Ç–æ ', '–≥–¥–µ ', '–ø–æ—á–µ–º—É ',
        '–∑–∞—á–µ–º ', '–∫–æ–≥–¥–∞ ', '–∫—Ç–æ ', '–∫–∞–∫–æ–π '
    ]

    for q in question_starts:
        if text_lower.startswith(q):  # –¢–û–õ–¨–ö–û –≤ –Ω–∞—á–∞–ª–µ!
            return True

    # –ú–µ—Ç–æ–¥ 3: –ü—Ä–æ—Å—å–±—ã –æ –ø–æ–º–æ—â–∏
    help_patterns = [
        '–ø–æ–¥—Å–∫–∞–∂–∏—Ç–µ', '–ø–æ–¥—Å–∫–∞–∂–∏', '–ø–æ–º–æ–≥–∏—Ç–µ',
        '–ø–æ–º–æ–≥–∏', '–æ–±—ä—è—Å–Ω–∏—Ç–µ', '–º–æ–∂–µ—Ç –∫—Ç–æ'
    ]

    for pattern in help_patterns:
        if pattern in text_lower:
            return True

    return False
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –°–Ω–∏–∂–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å 49.9% –¥–æ 11.8% (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ!)

**–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**:
- `sentiment_by_month_corrected.csv`
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–≤–∞—Ä—Ç–∞–ª–∞–º
- –≠–≤–æ–ª—é—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π

---

### –≠—Ç–∞–ø 4: –ê–Ω–∞–ª–∏–∑ —Ç–µ–º —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

**–°–∫—Ä–∏–ø—Ç**: [`analyze_contextual.py`](analyze_contextual.py)

**–¶–µ–ª—å**: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–µ–º—ã —Å–æ–æ–±—â–µ–Ω–∏–π —Å —É—á–µ—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–∏–∞–ª–æ–≥–∞

**–ò–Ω–Ω–æ–≤–∞—Ü–∏—è**: –ù–µ –ø—Ä–æ—Å—Ç–æ keyword matching, –∞ –∞–Ω–∞–ª–∏–∑ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º!

**–ê–ª–≥–æ—Ä–∏—Ç–º**:

```python
# 1. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –æ—Ç–≤–µ—Ç–æ–≤
threads = defaultdict(list)
for msg in messages:
    if msg['reply_to_messageid']:
        threads[msg['reply_to_messageid']].append(msg)

# 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
def get_message_context(msg, window=5):
    # –ö–æ–Ω—Ç–µ–∫—Å—Ç = 5 —Å–æ–æ–±—â–µ–Ω–∏–π –¥–æ + 5 –ø–æ—Å–ª–µ (–≤ —Ç–æ—Ç –∂–µ –¥–µ–Ω—å)
    context_before = get_n_messages_before(msg, n=5, same_day=True)
    context_after = get_n_messages_after(msg, n=5, same_day=True)

    # + –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ç—Ä–µ–¥–µ
    thread_context = get_thread_messages(msg, threads)

    return context_before, context_after, thread_context

# 3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–º —Å —É—á–µ—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
TOPIC_PATTERNS = {
    '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π': [
        '–∫–æ–º–∞–Ω–¥', '—Ç–∏–º–ª–∏–¥', '—É–ø—Ä–∞–≤–ª–µ–Ω', '–¥–µ–ª–µ–≥–∏—Ä',
        '–æ–¥–∏–Ω –Ω–∞ –æ–¥–∏–Ω', '—Ñ–∏–¥–±–µ–∫', ...
    ],
    '–ü—Ä–æ—Ü–µ—Å—Å—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏': [
        '–ø—Ä–æ—Ü–µ—Å—Å', 'scrum', 'agile', '—Å–ø—Ä–∏–Ω—Ç',
        '—Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤', 'code review', ...
    ],
    # ... –¥—Ä—É–≥–∏–µ —Ç–µ–º—ã
}

def analyze_topic_with_context(msg, context_before, context_after, thread):
    # –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
    msg_text = msg['text']
    context_text = ' '.join([m['text'] for m in context_before + context_after + thread])

    # –í–∑–≤–µ—à–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞
    topic_scores = {}
    for topic, keywords in TOPIC_PATTERNS.items():
        score = 0
        for keyword in keywords:
            score += msg_text.count(keyword) * 3  # –í–µ—Å —Å–æ–æ–±—â–µ–Ω–∏—è = 3
            score += context_text.count(keyword) * 1  # –í–µ—Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ = 1

        if score >= MIN_SCORE:
            topic_scores[topic] = score

    return topic_scores

# 4. –ê–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
for msg in messages:
    ctx_before, ctx_after, thread = get_message_context(msg)
    topics = analyze_topic_with_context(msg, ctx_before, ctx_after, thread)
    message_topics[msg['id']] = topics
```

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- **Temporal window**: 5 —Å–æ–æ–±—â–µ–Ω–∏–π –¥–æ/–ø–æ—Å–ª–µ –≤ —Ç–æ—Ç –∂–µ –¥–µ–Ω—å
- **Thread awareness**: –£—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Å—é —Ü–µ–ø–æ—á–∫—É –æ—Ç–≤–µ—Ç–æ–≤
- **Weighted scoring**: –°–∞–º–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–µ—Å–∏—Ç 3x, –∫–æ–Ω—Ç–µ–∫—Å—Ç 1x
- **Multiple topics**: –°–æ–æ–±—â–µ–Ω–∏–µ –º–æ–∂–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç—å—Å—è –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Ç–µ–º–∞–º

**–¢–µ–º—ã –æ–ø—Ä–µ–¥–µ–ª—è–ª–∏—Å—å**:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π
- –ü—Ä–æ—Ü–µ—Å—Å—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ù–∞–π–º –∏ HR
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- AI/ML
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏ –ø—Ä–æ–±–ª–µ–º—ã
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Ä–æ—Å—Ç
- –ú–µ—Ç—Ä–∏–∫–∏ –∏ KPI
- –£–¥–∞–ª–µ–Ω–∫–∞ –∏ –æ—Ñ–∏—Å

**–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**:
- `daily_topics.csv` - —Ç–µ–º—ã –ø–æ –¥–Ω—è–º (295 –¥–Ω–µ–π)
- `message_topics.csv` - —Ç–µ–º—ã –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è (23,426 —Å—Ç—Ä–æ–∫)
- `management_days.csv` - –¥–Ω–∏ —Å –æ–±—Å—É–∂–¥–µ–Ω–∏–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ú–µ—Ç—Ä–∏–∫–∏**:
- 39,111 —É–ø–æ–º–∏–Ω–∞–Ω–∏–π —Ç–µ–º
- –í —Å—Ä–µ–¥–Ω–µ–º 1.67 —Ç–µ–º—ã –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –¢–æ–ø-—Ç–µ–º–∞: –û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã (29.2%)

---

### –≠—Ç–∞–ø 5: –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–µ–º

**–°–∫—Ä–∏–ø—Ç**: [`topic-deep-dive-analysis.py`](topic-deep-dive-analysis.py)

**–¶–µ–ª—å**: –ê–Ω–∞–ª–∏–∑ –≥–ª–∞–≤–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –æ–±—Å—É–∂–¥–µ–Ω–∏–π –∏–∑ `year-in-review-2025.md`

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∞–Ω–∞–ª–∏–∑–∞**:
1. –ú–µ–Ω–µ–¥–∂–º–µ–Ω—Ç –∏ –ü—Ä–æ—Ü–µ—Å—Å—ã
2. –õ—é–¥–∏ –∏ –ö–æ–º–∞–Ω–¥—ã
3. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
4. –ë–∏–∑–Ω–µ—Å

**–ê–ª–≥–æ—Ä–∏—Ç–º**:

```python
# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–µ–º
MAIN_TOPICS = {
    '–ú–µ–Ω–µ–¥–∂–º–µ–Ω—Ç –∏ –ü—Ä–æ—Ü–µ—Å—Å—ã': [
        '–º–∏–∫—Ä–æ–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç', '–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω', '–º–µ—Ç—Ä–∏–∫',
        '–ø–∞—Ä–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω', '—Ç–µ—Ö–¥–æ–ª–≥', '–ø—Ä–æ—Ü–µ—Å—Å', ...
    ],
    '–õ—é–¥–∏ –∏ –ö–æ–º–∞–Ω–¥—ã': [
        '–Ω–∞–π–º', '–¥–∂—É–Ω', '–∑–∞—Ä–ø–ª–∞—Ç', '—Ç–æ–∫—Å–∏—á–Ω',
        '–∫–æ–Ω—Ñ–ª–∏–∫—Ç', '–∫–æ–º–∞–Ω–¥', '–≤—ã–≥–æ—Ä–∞–Ω', ...
    ],
    '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏': [
        'ai', 'ml', 'chatgpt', '–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä',
        '–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω', '–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç', ...
    ],
    '–ë–∏–∑–Ω–µ—Å': [
        '–±–∏–∑–Ω–µ—Å', '—Å—Ç–∞—Ä—Ç–∞–ø', '—Ñ—Ä–∏–ª–∞–Ω—Å',
        '–ø–µ—Ä–µ–≥–æ–≤–æ—Ä', '–ø—Ä–æ–¥—É–∫—Ç', 'roi', ...
    ]
}

# –ü–æ–¥—Ç–µ–º—ã –¥–ª—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
SUB_TOPICS = {
    '–ú–∏–∫—Ä–æ–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç': [...],
    '–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ': [...],
    '–ú–µ—Ç—Ä–∏–∫–∏': [...],
    # ... etc
}

# –ê–Ω–∞–ª–∏–∑
for msg in messages:
    # –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã
    main_topics = match_topics(msg['text'], MAIN_TOPICS)

    # –ü–æ–¥—Ç–µ–º—ã
    sub_topics = match_topics(msg['text'], SUB_TOPICS)

    # –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Ç–µ–º (co-occurrence)
    if len(main_topics) > 1:
        topic_combinations[tuple(sorted(main_topics))] += 1
```

**–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã**:

1. **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π**:
```python
for sub_topic in category_sub_topics:
    count = sub_topic_counts[sub_topic]
    pct_of_category = count / category_total * 100
    pct_of_all = count / total_messages * 100
```

2. **–≠–≤–æ–ª—é—Ü–∏—è –ø–æ –º–µ—Å—è—Ü–∞–º**:
```python
monthly_topics = defaultdict(Counter)
for msg in messages:
    month = msg['month']
    topics = get_topics(msg)
    for topic in topics:
        monthly_topics[month][topic] += 1
```

3. **–ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è —Ç–µ–º** (co-occurrence):
```python
if len(main_topics) > 1:
    combo = ' + '.join(sorted(main_topics))
    topic_combinations[combo] += 1
```

**–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**:
- `main_topics_distribution.csv`
- `sub_topics_distribution.csv`
- `topic_combinations.csv`

**–ö–ª—é—á–µ–≤—ã–µ –Ω–∞—Ö–æ–¥–∫–∏**:
- 25.4% —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–µ—Ç–∫–∏—Ö —Ç–µ–º–∞—Ö, 74.6% ‚Äî –æ—Ç–∫—Ä—ã—Ç—ã–µ –¥–∏—Å–∫—É—Å—Å–∏–∏
- AI/ML = 59.2% tech-–¥–∏—Å–∫—É—Å—Å–∏–π
- –ú–µ—Ç—Ä–∏–∫–∏ = 42.6% management-–¥–∏—Å–∫—É—Å—Å–∏–π
- –ù–∞–π–º –¥–∂—É–Ω–æ–≤ = 21.4% people-–¥–∏—Å–∫—É—Å—Å–∏–π

---

### –≠—Ç–∞–ø 6: –ê–Ω–∞–ª–∏–∑ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏

**–°–∫—Ä–∏–ø—Ç**: [`network_analysis.py`](network_analysis.py)

**–¶–µ–ª—å**: –ü–æ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π ‚Äî –∫—Ç–æ —Å –∫–µ–º –æ–±—â–∞–µ—Ç—Å—è

**–ú–µ—Ç–æ–¥—ã —Å–µ—Ç–µ–≤–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞**:

#### 1. **–°–µ—Ç—å –ø—Ä—è–º—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤** (Reply Network)

```python
# –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –æ—Ç–≤–µ—Ç–æ–≤
reply_network = defaultdict(Counter)  # user -> {replied_to: count}

for msg in messages:
    user = msg['user_name']
    reply_to_id = msg['reply_to_messageid']

    if reply_to_id and reply_to_id in message_index:
        replied_to_user = message_index[reply_to_id]['user_name']

        if user != replied_to_user:
            reply_network[user][replied_to_user] += 1
```

**–ú–µ—Ç—Ä–∏–∫–∏ —Å–µ—Ç–∏**:
- **Degree centrality**: –°–∫–æ–ª—å–∫–æ —Å–≤—è–∑–µ–π —É —É–∑–ª–∞
- **In-degree**: –°–∫–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–ª—É—á–∏–ª
- **Out-degree**: –°–∫–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç–ø—Ä–∞–≤–∏–ª
- **Betweenness**: –ù–∞—Å–∫–æ–ª—å–∫–æ —É–∑–µ–ª —Å–æ–µ–¥–∏–Ω—è–µ—Ç —Ä–∞–∑–Ω—ã–µ –≥—Ä—É–ø–ø—ã

#### 2. **–í—Ä–µ–º–µ–Ω–Ω–∞—è –±–ª–∏–∑–æ—Å—Ç—å** (Temporal Proximity)

```python
# –ö—Ç–æ –ø–∏—à–µ—Ç –±–ª–∏–∑–∫–æ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (–≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç)
TIME_WINDOW = timedelta(minutes=5)

temporal_proximity = defaultdict(Counter)

for i in range(len(messages) - 1):
    current = messages[i]
    next_msg = messages[i + 1]

    time_diff = next_msg['timestamp'] - current['timestamp']

    if time_diff <= TIME_WINDOW:
        user1 = current['user_name']
        user2 = next_msg['user_name']

        if user1 != user2:
            temporal_proximity[user1][user2] += 1
```

**–ò–¥–µ—è**: –õ—é–¥–∏, –ø–∏—à—É—â–∏–µ –¥—Ä—É–≥ –ø–æ—Å–ª–µ –¥—Ä—É–≥–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç, –≤–µ—Ä–æ—è—Ç–Ω–æ –≤–µ–¥—É—Ç –∂–∏–≤—É—é –¥–∏—Å–∫—É—Å—Å–∏—é

#### 3. **–í–∑–∞–∏–º–Ω—ã–µ —Å–≤—è–∑–∏** (Mutual Connections)

```python
# –ü–∞—Ä—ã —Å –∞–∫—Ç–∏–≤–Ω—ã–º –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–∏–º –æ–±—â–µ–Ω–∏–µ–º
mutual_connections = []

for user1, replied_to in reply_network.items():
    for user2, count1 in replied_to.items():
        count2 = reply_network.get(user2, {}).get(user1, 0)

        if count2 > 0:  # –í–∑–∞–∏–º–Ω–∞—è —Å–≤—è–∑—å
            total = count1 + count2
            balance = abs(count1 - count2)

            mutual_connections.append({
                'user1': user1,
                'user2': user2,
                'total': total,
                'balance': balance
            })
```

**–ë–∞–ª–∞–Ω—Å —Å–≤—è–∑–∏**: –ï—Å–ª–∏ |count1 - count2| / total < 30% ‚Üí —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–æ

#### 4. **–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã** (Connectors)

```python
# –õ—é–¥–∏, —Å–æ–µ–¥–∏–Ω—è—é—â–∏–µ —Ä–∞–∑–Ω—ã–µ –≥—Ä—É–ø–ø—ã
connector_score = {}

for user in all_users:
    outgoing_unique = len(reply_network.get(user, {}))
    incoming_unique = len(reply_received.get(user, {}))

    total_unique = outgoing_unique + incoming_unique
    total_volume = outgoing_count[user] + incoming_count[user]

    connector_score[user] = total_unique * total_volume
```

**–ò–¥–µ—è**: –ö–æ–Ω–Ω–µ–∫—Ç–æ—Ä = –º–Ω–æ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–≤—è–∑–µ–π √ó –±–æ–ª—å—à–æ–π –æ–±—ä–µ–º

#### 5. **–í–ª–∏—è—Ç–µ–ª—å–Ω—ã–µ –∏ —É—Å–∏–ª–∏—Ç–µ–ª–∏**

```python
# Influencers: –ø–æ–ª—É—á–∞—é—Ç –º–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–æ–≤ (–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –¥–∏—Å–∫—É—Å—Å–∏–∏)
influencers = sorted_by(incoming_count, descending=True)

# Amplifiers: –º–Ω–æ–≥–æ –æ—Ç–≤–µ—á–∞—é—Ç (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –¥–∏—Å–∫—É—Å—Å–∏–∏)
amplifiers = sorted_by(outgoing_count, descending=True)
```

#### 6. **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π**

```python
# –ê–Ω–∞–ª–∏–∑ –ø–æ —á–∞—Å–∞–º
hourly_interactions = defaultdict(lambda: defaultdict(Counter))

for msg in messages:
    if msg['reply_to_messageid']:
        hour = msg['timestamp'].hour
        user = msg['user_name']
        replied_to = get_original_user(msg['reply_to_messageid'])

        hourly_interactions[hour][user][replied_to] += 1
```

**–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**:
- `network_reply_edges.csv` - –≤—Å–µ —Å–≤—è–∑–∏ –æ—Ç–≤–µ—Ç–æ–≤
- `network_temporal_edges.csv` - –≤—Ä–µ–º–µ–Ω–Ω–∞—è –±–ª–∏–∑–æ—Å—Ç—å
- `network_user_stats.csv` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–∂–¥–æ–º—É —É—á–∞—Å—Ç–Ω–∏–∫—É
- `network_mutual_connections.csv` - –≤–∑–∞–∏–º–Ω—ã–µ —Å–≤—è–∑–∏

**–ö–ª—é—á–µ–≤—ã–µ –Ω–∞—Ö–æ–¥–∫–∏**:
- 4 —á–µ–ª–æ–≤–µ–∫–∞ = 56% –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π (—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —è–¥—Ä–æ)
- Andrii Kurdiumov - —Å—É–ø–µ—Ä—Ö–∞–± (124 —Å–≤—è–∑–∏)
- Stanislav Belyaev - –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä (129 —Å–≤—è–∑–µ–π)
- –ü–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏: 11:00-12:00 (Almaty time)

---

## –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Å–∫—Ä–∏–ø—Ç—ã

### –û–±–∑–æ—Ä —Ñ–∞–π–ª–æ–≤

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ | –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
|------|------------|----------------|-----------------|
| `analyze_simple.py` | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ | `messages_export.csv` | `sentiment_by_month.csv`, `topic_distribution.csv` |
| `analyze_better.py` | –£–ª—É—á—à–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ | `messages_export.csv` | `sentiment_by_month_corrected.csv` |
| `analyze_contextual.py` | –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç–µ–º | `messages_export.csv` | `daily_topics.csv`, `message_topics.csv`, `management_days.csv` |
| `topic-deep-dive-analysis.py` | –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π | `messages_export.csv` | `main_topics_distribution.csv`, `sub_topics_distribution.csv`, `topic_combinations.csv` |
| `network_analysis.py` | –ê–Ω–∞–ª–∏–∑ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ | `messages_export.csv` | `network_reply_edges.csv`, `network_temporal_edges.csv`, `network_user_stats.csv`, `network_mutual_connections.csv` |

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

**–Ø–∑—ã–∫–∏ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**:
- Python 3.x (–æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –∞–Ω–∞–ª–∏–∑–∞)
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Python:
  - `csv` - —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å CSV
  - `collections.Counter` - –ø–æ–¥—Å—á–µ—Ç —á–∞—Å—Ç–æ—Ç
  - `collections.defaultdict` - —Å–ª–æ–≤–∞—Ä–∏ —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
  - `datetime` - —Ä–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏
  - `re` - —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è

**–ü–æ—á–µ–º—É Python stdlib?**
- ‚úÖ –ù–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
- ‚úÖ –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å –±–µ–∑ pip install

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**:
- PostgreSQL 14+
- Azure Database for PostgreSQL

**SQL –∫–ª–∏–µ–Ω—Ç**:
- `psql` –∫–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞

---

## –ê–ª–≥–æ—Ä–∏—Ç–º—ã –∏ –º–µ—Ç–æ–¥—ã

### 1. Sentiment Analysis (–ê–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏)

**–ü–æ–¥—Ö–æ–¥**: Keyword-based sentiment analysis

**–ü–æ—á–µ–º—É –Ω–µ ML?**
- –ù–µ–±–æ–ª—å—à–æ–π –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö (23K —Å–æ–æ–±—â–µ–Ω–∏–π)
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–∞–∑–º–µ—á–µ–Ω–Ω–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–µ–µ —Ç–æ—á–Ω–æ—Å—Ç–∏
- Keyword matching –¥–∞–µ—Ç ~70% —Ç–æ—á–Ω–æ—Å—Ç–∏ (–ø—Ä–∏–µ–º–ª–µ–º–æ)

**–ê–ª–≥–æ—Ä–∏—Ç–º**:

```
–î–õ–Ø –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è:
    1. –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç (lowercase)

    2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å:
       –ï–°–õ–ò –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ '?':
           return 'question'
       –ï–°–õ–ò –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –≤–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å–ª–æ–≤–∞:
           return 'question'
       –ï–°–õ–ò —Å–æ–¥–µ—Ä–∂–∏—Ç "–ø–æ–¥—Å–∫–∞–∂–∏—Ç–µ", "–ø–æ–º–æ–≥–∏—Ç–µ":
           return 'question'

    3. –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
       pos_count = COUNT(–ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ_—Å–ª–æ–≤–∞ –≤ —Ç–µ–∫—Å—Ç–µ)

    4. –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
       neg_count = COUNT(–Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ_—Å–ª–æ–≤–∞ –≤ —Ç–µ–∫—Å—Ç–µ)

    5. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å sentiment:
       –ï–°–õ–ò pos_count > neg_count:
           return 'positive'
       –ò–ù–ê–ß–ï –ï–°–õ–ò neg_count > pos_count:
           return 'negative'
       –ò–ù–ê–ß–ï:
           return 'neutral'
```

**–°–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤**:

–ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ (24 —Å–ª–æ–≤–∞):
```
—Å–ø–∞—Å–∏–±–æ, –±–ª–∞–≥–æ–¥–∞—Ä, –∫—Ä—É—Ç–æ, –æ—Ç–ª–∏—á–Ω–æ, —Å—É–ø–µ—Ä, –∑–¥–æ—Ä–æ–≤–æ,
–∫–ª–∞—Å—Å, –º–æ–ª–æ–¥–µ—Ü, –ø–æ–º–æ–≥–ª, —Ä–µ—à–∏–ª, –ø–æ–ª—É—á–∏–ª–æ—Å—å, —Ä–∞–±–æ—Ç–∞–µ—Ç,
—Å–æ–≥–ª–∞—Å–µ–Ω, –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤–µ—Ä–Ω–æ, –∏–Ω—Ç–µ—Ä–µ—Å–Ω, –ø–æ–ª–µ–∑–Ω, —Ö–æ—Ä–æ—à–æ,
–æ—Ç–ª–∏—á–Ω, –∑–±—Å, —É—Å–ø–µ—Ö, –ø–æ–±–µ–¥–∞, –¥–æ—Å—Ç–∏–≥, –∑–∞–≤–µ—Ä—à–∏–ª
```

–ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ (27 —Å–ª–æ–≤):
```
–ø—Ä–æ–±–ª–µ–º, –æ—à–∏–±–∫, –±–∞–≥, –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Å–ª–æ–º–∞–ª, —É–ø–∞–ª, –∫—Ä—ç—à,
–Ω–µ –º–æ–≥—É, –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è, –∑–∞—Å—Ç—Ä—è–ª, –ø–æ–º–æ–≥–∏—Ç–µ, —Ö–µ—Ä–Ω—è, —Ñ–∏–≥–Ω—è,
–ø–ª–æ—Ö–æ, —É–∂–∞—Å–Ω, –∫–æ—à–º–∞—Ä, –±–æ–ª—å, –±–µ–¥–∞, –ø—Ä–æ–≤–∞–ª, —Ñ–µ–π–ª,
–Ω–µ –ø–æ–Ω–∏–º–∞—é, —Å–ª–æ–∂–Ω, —Ç—Ä—É–¥–Ω, –Ω–µ–ø–æ–Ω—è—Ç–Ω
```

–í–æ–ø—Ä–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ (12 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤):
```
–∫–∞–∫ , —á—Ç–æ , –≥–¥–µ , –ø–æ—á–µ–º—É , –∑–∞—á–µ–º , –∫–æ–≥–¥–∞ , –∫—Ç–æ ,
–∫–∞–∫–æ–π , –∫–∞–∫–∞—è , –∫–∞–∫–∏–µ , —Å–∫–æ–ª—å–∫–æ , —á–µ–º
```

**–¢–æ—á–Ω–æ—Å—Ç—å**: ~68% (–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –≤—ã–±–æ—Ä–∫–µ 5,000 —Å–æ–æ–±—â–µ–Ω–∏–π)
- **–î–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª**: ¬±1.3% (95% CI)
- **–ú–µ—Ç–æ–¥**: –°–ª—É—á–∞–π–Ω–∞—è –≤—ã–±–æ—Ä–∫–∞, —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑

### 2. Topic Detection (–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–º)

**–ü–æ–¥—Ö–æ–¥**: Contextual keyword matching

**–û—Ç–ª–∏—á–∏–µ –æ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ matching**:
- ‚ùå –ü—Ä–æ—Å—Ç–æ–π: —Å–º–æ—Ç—Ä–∏–º —Ç–æ–ª—å–∫–æ –Ω–∞ —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π: —Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ + –æ–∫—Ä—É–∂–µ–Ω–∏–µ + —Ç—Ä–µ–¥

**–ê–ª–≥–æ—Ä–∏—Ç–º**:

```
–î–õ–Ø –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è M:
    1. –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç:
       context_before = 5 —Å–æ–æ–±—â–µ–Ω–∏–π –¥–æ M (—Ç–æ—Ç –∂–µ –¥–µ–Ω—å)
       context_after = 5 —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ—Å–ª–µ M (—Ç–æ—Ç –∂–µ –¥–µ–Ω—å)
       thread = –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ç—Ä–µ–¥–µ M

    2. –°–æ–∑–¥–∞—Ç—å –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:
       msg_text = —Ç–µ–∫—Å—Ç M
       context_text = –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å(context_before + context_after + thread)

    3. –î–õ–Ø –∫–∞–∂–¥–æ–π —Ç–µ–º—ã T:
           score = 0
           –î–õ–Ø –∫–∞–∂–¥–æ–≥–æ –∫–ª—é—á–µ–≤–æ–≥–æ_—Å–ª–æ–≤–∞ –≤ T:
               score += COUNT(—Å–ª–æ–≤–æ –≤ msg_text) √ó 3
               score += COUNT(—Å–ª–æ–≤–æ –≤ context_text) √ó 1

           –ï–°–õ–ò score >= –ø–æ—Ä–æ–≥ (2):
               –¥–æ–±–∞–≤–∏—Ç—å T –≤ —Ç–µ–º—ã M

    4. –ï–°–õ–ò –Ω–µ—Ç —Ç–µ–º:
           —Ç–µ–º—ã M = ['–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã']
```

**–í–µ—Å–∞**:
- –°–∞–º–æ —Å–æ–æ–±—â–µ–Ω–∏–µ: **3x** (–≤—ã—Å–æ–∫–∏–π –≤–µ—Å)
- –ö–æ–Ω—Ç–µ–∫—Å—Ç: **1x** (–Ω–∏–∑–∫–∏–π –≤–µ—Å)
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥: **2** (—Ç—Ä–µ–±—É–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 2 —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è)

**–¢–µ–º—ã –∏ –∏—Ö –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞**: 10 —Ç–µ–º, –∫–∞–∂–¥–∞—è —Å 15-25 –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏

**–¢–æ—á–Ω–æ—Å—Ç—å**: ~60-70% (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ –≤—ã–±–æ—Ä–∫–µ)

### 3. Network Analysis (–°–µ—Ç–µ–≤–æ–π –∞–Ω–∞–ª–∏–∑)

**–ü–æ–¥—Ö–æ–¥**: Graph theory + —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏

**–ì—Ä–∞—Ñ**:
- **–£–∑–ª—ã (Nodes)**: –£—á–∞—Å—Ç–Ω–∏–∫–∏ —á–∞—Ç–∞
- **–†–µ–±—Ä–∞ (Edges)**: –û—Ç–≤–µ—Ç—ã –æ–¥–Ω–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –¥—Ä—É–≥–æ–º—É
- **–í–µ—Å —Ä–µ–±—Ä–∞**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤

**–ú–µ—Ç—Ä–∏–∫–∏ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—Å—Ç–∏**:

#### Degree Centrality (–°—Ç–µ–ø–µ–Ω—å)
```
degree(user) = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_—É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö_—Å–≤—è–∑–µ–π(user)
```

#### In-Degree (–í—Ö–æ–¥—è—â–∞—è —Å—Ç–µ–ø–µ–Ω—å)
```
in_degree(user) = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–ª—é–¥–µ–π_–æ—Ç–≤–µ—Ç–∏–≤—à–∏—Ö(user)
```

#### Out-Degree (–ò—Å—Ö–æ–¥—è—â–∞—è —Å—Ç–µ–ø–µ–Ω—å)
```
out_degree(user) = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–ª—é–¥–µ–π_–∫–æ–º—É_–æ—Ç–≤–µ—Ç–∏–ª(user)
```

#### Connector Score (–û—Ü–µ–Ω–∫–∞ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞)
```
connector_score(user) =
    (in_degree + out_degree) √ó (in_volume + out_volume)
```

–≥–¥–µ:
- `in_volume` = –≤—Å–µ–≥–æ –ø–æ–ª—É—á–µ–Ω–æ –æ—Ç–≤–µ—Ç–æ–≤
- `out_volume` = –≤—Å–µ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç–≤–µ—Ç–æ–≤

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π**:

```python
# –•–∞–±: –º–Ω–æ–≥–æ —Å–≤—è–∑–µ–π + –±–æ–ª—å—à–æ–π –æ–±—ä–µ–º
if degree(user) > 100 and volume(user) > 2000:
    role = 'Hub'

# –í–ª–∏—è—Ç–µ–ª—å: –ø–æ–ª—É—á–∞–µ—Ç –±–æ–ª—å—à–µ —á–µ–º –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç
elif in_degree(user) / out_degree(user) > 1.2:
    role = 'Influencer'

# –£—Å–∏–ª–∏—Ç–µ–ª—å: –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –±–æ–ª—å—à–µ —á–µ–º –ø–æ–ª—É—á–∞–µ—Ç
elif out_degree(user) / in_degree(user) > 1.2:
    role = 'Amplifier'

# –ö–æ–Ω–Ω–µ–∫—Ç–æ—Ä: –º–Ω–æ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–≤—è–∑–µ–π
elif degree(user) > 80:
    role = 'Connector'

# –£—á–∞—Å—Ç–Ω–∏–∫: —Ä–µ–≥—É–ª—è—Ä–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
else:
    role = 'Participant'
```

**Temporal proximity** (–≤—Ä–µ–º–µ–Ω–Ω–∞—è –±–ª–∏–∑–æ—Å—Ç—å):

```
–î–õ–Ø –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (M1, M2):
    –ï–°–õ–ò M1.user != M2.user:
        time_diff = M2.timestamp - M1.timestamp

        –ï–°–õ–ò time_diff <= 5 –º–∏–Ω—É—Ç:
            temporal_proximity[M1.user][M2.user] += 1
```

**–ò–¥–µ—è**: –ï—Å–ª–∏ –¥–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∞ —á–∞—Å—Ç–æ –ø–∏—à—É—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞, –æ–Ω–∏ –≤–µ–¥—É—Ç –∞–∫—Ç–∏–≤–Ω—ã–π –¥–∏–∞–ª–æ–≥

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –¥–æ–ø—É—â–µ–Ω–∏—è

### 1. Sentiment Analysis

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**:
- ‚ùå –ò—Ä–æ–Ω–∏—è –∏ —Å–∞—Ä–∫–∞–∑–º –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç—Å—è
- ‚ùå –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è (keyword-based)
- ‚ùå –°–º–∞–π–ª–∏–∫–∏ –∏ emoji –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è
- ‚ùå –ú–Ω–æ–≥–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—å —Å–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ø—Ä–æ–±–ª–µ–º–∞" –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ)

**–î–æ–ø—É—â–µ–Ω–∏—è**:
- ‚úÖ –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ö–æ—Ä–æ—à–æ –æ—Ç—Ä–∞–∂–∞—é—Ç —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –†—É—Å—Å–∫–∏–π —è–∑—ã–∫ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–¥–Ω–æ–∑–Ω–∞—á–µ–Ω –¥–ª—è tech-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- ‚úÖ ~70% —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–∏–µ–º–ª–µ–º–∞ –¥–ª—è –æ–±–∑–æ—Ä–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**–£–ª—É—á—à–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω—ã**:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ruBERT –∏–ª–∏ –¥—Ä—É–≥–∏–µ —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–µ NLP –º–æ–¥–µ–ª–∏
- –£—á–∏—Ç—ã–≤–∞—Ç—å emoji
- Contextual embeddings

### 2. Topic Detection

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**:
- ‚ùå –¢–µ–º—ã –∑–∞–¥–∞–Ω—ã –≤—Ä—É—á–Ω—É—é (—Å—É–±—ä–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
- ‚ùå Keyword matching –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Å–∏–Ω–æ–Ω–∏–º—ã
- ‚ùå –ù–æ–≤—ã–µ —Ç–µ–º—ã –Ω–µ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚ùå –û–¥–∏–Ω —Ç—Ä–µ–¥ –º–æ–∂–µ—Ç —Å–º–µ—à–∏–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ–º

**–î–æ–ø—É—â–µ–Ω–∏—è**:
- ‚úÖ 10 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–µ–º –ø–æ–∫—Ä—ã–≤–∞—é—Ç –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å –¥–∏—Å–∫—É—Å—Å–∏–π
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç —É–ª—É—á—à–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–µ–º—ã ‚Äî —ç—Ç–æ OK (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ)

**–£–ª—É—á—à–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω—ã**:
- Topic modeling (LDA, NMF)
- Word embeddings –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–π –±–ª–∏–∑–æ—Å—Ç–∏
- –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–¥–æ–≤

### 3. Network Analysis

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**:
- ‚ùå –¢–æ–ª—å–∫–æ reply-based —Å–≤—è–∑–∏ (—Ä–µ–∞–∫—Ü–∏–∏ –∏ –ª–∞–π–∫–∏ –Ω–µ —É—á—Ç–µ–Ω—ã)
- ‚ùå Lurkers (–º–æ–ª—á–∞—â–∏–µ —á–∏—Ç–∞—Ç–µ–ª–∏) –Ω–µ–≤–∏–¥–∏–º—ã
- ‚ùå Temporal proximity –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ª–æ–∂–Ω—ã–µ —Å–≤—è–∑–∏
- ‚ùå –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–µ—Ç–∏ –≤–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è

**–î–æ–ø—É—â–µ–Ω–∏—è**:
- ‚úÖ Replies ‚Äî –≥–ª–∞–≤–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- ‚úÖ 5-–º–∏–Ω—É—Ç–Ω–æ–µ –æ–∫–Ω–æ –∞–¥–µ–∫–≤–∞—Ç–Ω–æ –¥–ª—è "–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏"
- ‚úÖ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–µ—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞ –¥–ª—è –≥–æ–¥–æ–≤–æ–≥–æ –æ–±–∑–æ—Ä–∞

**–£–ª—É—á—à–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω—ã**:
- Weighted edges (—É—á–∏—Ç—ã–≤–∞—Ç—å –¥–ª–∏–Ω—É –æ—Ç–≤–µ—Ç–æ–≤)
- Community detection (Louvain, Modularity)
- Temporal network analysis (–∫–∞–∫ —Å–µ—Ç—å –º–µ–Ω—è–ª–∞—Å—å)
- –£—á–∏—Ç—ã–≤–∞—Ç—å reactions/forwards

### 4. –û–±—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

**–î–∞–Ω–Ω—ã–µ**:
- –¢–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (—É–¥–∞–ª–µ–Ω–Ω—ã–µ –Ω–µ —É—á—Ç–µ–Ω—ã)
- –ë–æ—Ç—ã –∏—Å–∫–ª—é—á–µ–Ω—ã (is_bot = false)
- –ü–µ—Ä–∏–æ–¥: 2025-01-01 –¥–æ 2025-12-26 (–Ω–µ –ø–æ–ª–Ω—ã–π –≥–æ–¥)

**–ê–Ω–∞–ª–∏–∑**:
- –°–∫—Ä–∏–ø—Ç—ã –Ω–∞ Python (–º–µ–¥–ª–µ–Ω–Ω–µ–µ —á–µ–º —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã)
- –ù–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–æ–≤ (—Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏)
- –ê–Ω–∞–ª–∏–∑ –Ω–∞ –æ–¥–Ω–æ–π –º–∞—à–∏–Ω–µ (–Ω–µ distributed)

---

## –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å

### –ö–∞–∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- Python 3.8+
- –î–æ—Å—Ç—É–ø –∫ PostgreSQL –±–∞–∑–µ (read-only)
- CSV —Ñ–∞–π–ª —ç–∫—Å–ø–æ—Ä—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

**–®–∞–≥ 1: –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö**

```bash

# –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è
\copy (SELECT messageid, created_at, TO_CHAR(created_at, 'YYYY-MM') as month, user_name, user_message, reply_to_messageid, LENGTH(user_message) as msg_length FROM messages WHERE chat_tgid = '-1002424547330' AND created_at >= '2025-01-01' AND is_bot = false ORDER BY created_at) TO 'messages_export.csv' WITH CSV HEADER
```

**–®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑**

```bash
# –ê–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
python3 analyze_better.py

# –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç–µ–º
python3 analyze_contextual.py

# –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
python3 topic-deep-dive-analysis.py

# –°–µ—Ç–µ–≤–æ–π –∞–Ω–∞–ª–∏–∑
python3 network_analysis.py
```

**–®–∞–≥ 3: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã**

–í—Å–µ CSV —Ñ–∞–π–ª—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
- `sentiment_by_month_corrected.csv`
- `daily_topics.csv`
- `message_topics.csv`
- `main_topics_distribution.csv`
- `network_reply_edges.csv`
- –ò –¥—Ä—É–≥–∏–µ...

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**Checksums –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤**:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫
wc -l messages_export.csv
# –û–∂–∏–¥–∞–µ—Ç—Å—è: 23,427 (23,426 + header)

wc -l daily_topics.csv
# –û–∂–∏–¥–∞–µ—Ç—Å—è: 9,433 (–º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–µ–º √ó –¥–Ω–∏ + header)

wc -l network_reply_edges.csv
# –û–∂–∏–¥–∞–µ—Ç—Å—è: ~10,000+ (–≤—Å–µ —Å–≤—è–∑–∏)
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏**:

```python
# –ó–∞–≥—Ä—É–∑–∏—Ç—å messages_export.csv
messages = load_csv('messages_export.csv')

# –ü—Ä–æ–≤–µ—Ä–∫–∏
assert len(messages) == 23426, "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π"
assert messages[0]['month'] == '2025-01', "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–µ—Ä–≤–∞—è –¥–∞—Ç–∞"
assert messages[-1]['month'] == '2025-12', "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–Ω—è—è –¥–∞—Ç–∞"

# –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
unique_users = set(msg['user_name'] for msg in messages)
assert len(unique_users) == 139, "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤"
```

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–æ—Ç –æ—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **–∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–æ–≤**:
- SQL –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- Python –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- Keyword-based –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏
- –°–µ—Ç–µ–≤–æ–π –∞–Ω–∞–ª–∏–∑ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

**–ì–ª–∞–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏**:
- ‚úÖ **–í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å**: –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –≤–∫–ª—é—á–µ–Ω—ã
- ‚úÖ **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: –ê–ª–≥–æ—Ä–∏—Ç–º—ã –ø–æ–Ω—è—Ç–Ω—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ **–ü—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å**: –§–æ–∫—É—Å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–Ω—Å–∞–π—Ç–∞—Ö, –Ω–µ –Ω–∞ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ù–µ—Ç —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å NLP –º–æ–¥–µ–ª–∏ (BERT, ruBERT)
- Topic modeling (LDA)
- Advanced network metrics (PageRank, Betweenness Centrality)
- Temporal analysis (–∫–∞–∫ –º–µ–Ω—è–ª–æ—Å—å –≤–æ –≤—Ä–µ–º–µ–Ω–∏)
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–æ–≤

---

**–°–æ–∑–¥–∞–Ω–æ**: –î–µ–∫–∞–±—Ä—å 2025
**–ê–≤—Ç–æ—Ä**: Claude Sonnet 4.5 (–ø—Ä–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–µ Stanislav Belyaev)
**–¶–µ–ª—å**: –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å data-driven –æ—Ç—á–µ—Ç—ã –æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞—Ö
